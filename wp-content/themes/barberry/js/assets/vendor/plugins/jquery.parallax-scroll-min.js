var ParallaxScroll={showLogs:!1,round:1e3,init:function(){if(this._log("init"),this._inited)return this._log("Already Inited"),void(this._inited=!0);this._requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,t){window.setTimeout(a,1e3/60)},this._onScroll(!0)},_inited:!1,_properties:["x","y","z","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","scale","opacity"],_requestAnimationFrame:null,_log:function(a){this.showLogs&&console.log("Parallax Scroll / "+a)},_onScroll:function(a){var t=jQuery(document).scrollTop(),e=jQuery(window).height();this._log("onScroll "+t),jQuery("[data-parallax]").each(jQuery.proxy((function(l,r){var s=jQuery(r),n=[],i=!1,o=s.data("style");null==o&&(o=s.attr("style")||"",s.data("style",o));var u,c=[s.data("parallax")];for(u=2;s.data("parallax"+u);u++)c.push(s.data("parallax-"+u));var d=c.length;for(u=0;u<d;u++){var m=c[u],y=m["from-scroll"];null==y&&(y=Math.max(0,jQuery(r).offset().top-e)),y|=0;var h=m.distance,p=m["to-scroll"];null==h&&null==p&&(h=e),h=Math.max(0|h,1);var v=m.easing,w=m["easing-return"];if(null!=v&&jQuery.easing&&jQuery.easing[v]||(v=null),null!=w&&jQuery.easing&&jQuery.easing[w]||(w=v),v){var g=m.duration;null==g&&(g=h),g=Math.max(0|g,1);var x=m["duration-return"];null==x&&(x=g),h=1;var f=s.data("current-time");null==f&&(f=0)}null==p&&(p=y+h),p|=0;var _=m.smoothness;null==_&&(_=30),_|=0,(a||0==_)&&(_=1),_|=0;var j=t;j=Math.max(j,y),j=Math.min(j,p),v&&(null==s.data("sens")&&s.data("sens","back"),y<j&&("back"==s.data("sens")?(f=1,s.data("sens","go")):f++),j<p&&("go"==s.data("sens")?(f=1,s.data("sens","back")):f++),a&&(f=g),s.data("current-time",f)),this._properties.map(jQuery.proxy((function(a){var t=0,e=m[a];if(null!=e){"scale"==a||"scaleX"==a||"scaleY"==a||"scaleZ"==a?t=1:e|=0;var l=s.data("_"+a);null==l&&(l=t);var r=(j-y)/(p-y)*(e-t)+t,o=l+(r-l)/_;if(v&&0<f&&f<=g){var u=t;"back"==s.data("sens")&&(e=-(u=e),v=w,g=x),o=jQuery.easing[v](null,f,u,e,g)}(o=Math.ceil(o*this.round)/this.round)==l&&r==e&&(o=e),n[a]||(n[a]=0),n[a]+=o,l!=n[a]&&(s.data("_"+a,n[a]),i=!0)}}),this))}if(i){if(null!=n.z){var Q=m.perspective;null==Q&&(Q=800);var A=s.parent();A.data("style")||A.data("style",A.attr("style")||""),A.attr("style","perspective:"+Q+"px; -webkit-perspective:"+Q+"px; "+A.data("style"))}null==n.scaleX&&(n.scaleX=1),null==n.scaleY&&(n.scaleY=1),null==n.scaleZ&&(n.scaleZ=1),null!=n.scale&&(n.scaleX*=n.scale,n.scaleY*=n.scale,n.scaleZ*=n.scale);var X="";X=1==m.opacity?"opacity:1":"";var Y="translate3d("+(n.x?n.x:0)+"px, "+(n.y?n.y:0)+"px, "+(n.z?n.z:0)+"px) rotateX("+(n.rotateX?n.rotateX:0)+"deg) rotateY("+(n.rotateY?n.rotateY:0)+"deg) rotateZ("+(n.rotateZ?n.rotateZ:0)+"deg) scaleX("+n.scaleX+") scaleY("+n.scaleY+") scaleZ("+n.scaleZ+");";this._log(Y),s.attr("style","transform:"+Y+" -webkit-transform:"+Y+" "+o+X)}}),this)),window.requestAnimationFrame?window.requestAnimationFrame(jQuery.proxy(this._onScroll,this,!1)):this._requestAnimationFrame(jQuery.proxy(this._onScroll,this,!1))}};