jQuery(function(e){"use strict";var t=t||{};t.init=function(){t.$body=e(document.body),t.$window=e(window),t.$header=e(".site-header"),t.ajaxXHR=null,this.globalDebounce(),this.mobileDetect(),this.mobileCategories(),this.pageLoader(),this.stickyHeader(),this.foundationInit(),this.lazyLoad(),this.navigationInit(),this.offCanvas(),this.postGallery(),this.parallaxInit(),this.bgParallaxInit(),this.select2(),this.loadingAjax(),"1"==barberry_scripts_vars.load_animation&&(this.pageHeaderAnimation(),this.productInfoAnimation(),this.postsInview()),this.backtoTop(),this.shareInit(),this.searchInit(),this.splitText(),this.dokan_products_tab(),this.singleProductSlider(),this.animationProduct(),this.filterAjax(),this.loadingPostsAjax(),this.quickView(),this.ajaxWishlist(),this.filterToggle(),this.filters_scroll(),this.productCard(),this.productSwatches(),this.productQuantity(),this.miniCart(),this.countDownTimer(),this.widgetProductCategories(),this.stickyShopSidebar(),this.stickySidebarBtn(),this.removeFromCart(),this.couponFocus(),this.woocommerceNotices(),this.ShippingFreeNotification(),this.shopLogin(),this.stickyAddtocart(),this.productGallery(),this.productVideo(),this.productInview(),this.productTabs(),this.productNavigation(),this.productAddToCartAjax(),this.productWishlist(),this.productCompare(),this.footerInit(),e(document).trigger("barberry.scripts_loaded")},t.globalDebounce=function(){window.scroll_position=e(window).scrollTop(),window.scroll_direction="fixed",e(window).on("scroll",function(){var t;(t=e(window).scrollTop())>window.scroll_position?window.scroll_direction="down":window.scroll_direction="up",window.scroll_position=t}),gsap.config({nullTargetWarn:!1})},t.mobileDetect=function(){new MobileDetect(window.navigator.userAgent).mobile()&&e("body").addClass("is-mobile")},t.mobileCategories=function(){if(!(e(window).width()>1024)){var t=e(".barberry-categories");t.find("li > ul"),e(".barberry-show-categories");e("body").on("click",".barberry-show-categories",function(e){e.preventDefault(),a()?o():r()}),e("body").on("click",".list_shop_categories a, .list_blog_categories a",function(e){o(),t.stop().attr("style","")});var a=function(){return e(".barberry-categories").hasClass("categories-opened")},r=function(){var t=gsap.timeline(),a=e(".barberry-categories");e(".barberry-categories li");t.fromTo(a,{height:0,autoAlpha:0},{height:"auto",autoAlpha:1,ease:"power4.In",duration:1},0),setTimeout(function(){e(".barberry-categories").addClass("categories-opened"),e(".barberry-show-categories").addClass("button-open")},100)},o=function(){var t=gsap.timeline(),a=e(".barberry-categories");e(".barberry-categories li");t.fromTo(a,{height:"auto",autoAlpha:1},{autoAlpha:0,height:0,ease:"power3.InOut",duration:.3},0),setTimeout(function(){e(".barberry-show-categories").removeClass("button-open"),e(".barberry-categories").removeClass("categories-opened")},100)}}},t.pageLoader=function(){"0"!=barberry_scripts_vars.page_loader&&(e("#header-loader-under-bar").length&&NProgress.configure({template:'<div class="bar" role="bar"></div>',parent:"#header-loader",showSpinner:!1,easing:"ease",minimum:.3,speed:500}),e("#bb-container").addClass("fade_in").removeClass("fade_out"),e("#header-loader-under-bar").addClass("hidden"),NProgress.start(),NProgress.done(),e(window).on("beforeunload",function(){e("#bb-container").addClass("fade_out").removeClass("fade_in"),e("#header-loader-under-bar").removeClass("hidden")}))},t.stickyHeader=function(){if("0"!=barberry_scripts_vars.sticky_header)new Headhesive(".site-header",{offset:300,throttle:50,classes:{clone:"header--clone",stick:"header--stick",unstick:"header--unstick"}})},t.foundationInit=function(){e(document).foundation()},t.lazyLoad=function(){let e=document.querySelectorAll(".lazy");new LazyLoad(e,{threshold:.2})},t.navigationInit=function(){var t=[".barberry-navigation .navigation-foundation > ul > .is-dropdown-submenu-parent",".my-account-has-drop:not(.my-account-form)"].join(", ");e(t).on({mouseenter:function(t){e(".site-header").attr("data-sticky","visible"),e(".navigation_overlay").addClass("visible").trigger("show.br.overlay_content")},mouseleave:function(t){e(".navigation_overlay").removeClass("visible").trigger("hide.br.overlay_content"),e(".site-header").removeAttr("data-sticky","visible")}});t=[".topbar .navigation-foundation > ul"].join(", ");e(t).on({mouseenter:function(t){e(".topbar_overlay").addClass("visible")},mouseleave:function(t){e(".topbar_overlay").removeClass("visible")}});var a=e(".navigation-foundation").find("ul.dropdown"),r=a.find(" > li.is-mega-menu");a.on("hover"," > li.is-mega-menu",function(t){o(e(this))});var o=function(t){var a=t.find(" > .dropdown-submenu"),r=e(".bb-container");a.attr("style","");var o=a.outerWidth(),i=a.offset(),n=e(window).width(),s=(r.outerWidth(),r.offset().left,n);if(o&&i){var c=n-i.left-o;if(e("body").hasClass("rtl")&&c+o>=s&&t.hasClass("is-mega-menu")){var l=c+o-s;a.css({right:-l-0})}else if(i.left+o>=s&&t.hasClass("is-mega-menu")){var d=i.left+o-s;a.css({left:-d-0})}}};r.each(function(){o(e(this)),e(this).addClass("with-offsets")})},t.footerInit=function(){if("1"==barberry_scripts_vars.footer_hover){function t(t){setTimeout(function(){e("#site-footer, .progress-page").addClass("is-animating")},300)}function a(t){e("#site-footer, .progress-page").removeClass("is-animating")}window.sr=ScrollReveal(),sr.reveal("#site-footer .site-footer-inner",{delay:1e3,opacity:1,reset:!0,mobile:!0,beforeReveal:t,afterReset:a})}else{function t(t){setTimeout(function(){e(".progress-page").addClass("is-animating")},300)}function a(t){e(".progress-page").removeClass("is-animating")}window.sr=ScrollReveal(),e(window).width()>1024?sr.reveal(".prefooter",{delay:1e3,opacity:1,reset:!0,mobile:!0,beforeReveal:t,afterReset:a}):sr.reveal("#site-footer .site-footer-inner",{delay:1e3,opacity:1,reset:!0,mobile:!0,beforeReveal:t,afterReset:a})}function r(){var t=e(".page-header").outerHeight();e(window).height()-e("#wpadminbar").height()-t-e("#site-footer").height()>0?(e('body[data-footer-reveal="1"] #primary').css({"margin-bottom":e("#site-footer").height()-1}),e("#primary").css({"min-height":e(window).height()-e("#wpadminbar").height()-t-e("#site-footer").height()-1})):e("#primary").css({"margin-bottom":e("#site-footer").height()-1})}e('body[data-footer-reveal="1"]').length>0&&(r(),e(window).on("resize",function(){r()}))},t.offCanvas=function(){window.offcanvas_open=!1,window.offcanvas_from_left=!1,window.offcanvas_from_right=!1,window.offcanvas_from_top=!1,window.offcanvas_from_bottom=!1,window.offcanvas_close=function(){window.offcanvas_open=!1,window.offcanvas_from_left=!1,window.offcanvas_from_right=!1,window.offcanvas_from_top=!1,window.offcanvas_from_bottom=!1,e("body").removeClass("offcanvas_open offcanvas_left offcanvas_right offcanvas_top lock-scroll"),e(".offcanvas_main_content").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){setTimeout(function(){e(window).trigger("resize")},600)}),e(".offcanvas_shop_sidebar").removeClass("show"),e(".barberry-ajax-search .search-field").val("")},window.offcanvas_left=function(){1==window.offcanvas_open&&window.offcanvas_close(),window.offcanvas_open=!0,window.offcanvas_from_left=!0,e("body").removeClass("no-offcanvas-animation").addClass("offcanvas_open offcanvas_left lock-scroll"),e(".nano").nanoScroller({iOSNativeScrolling:!0})},window.offcanvas_right=function(){if("without"==barberry_scripts_vars.header_cart_link||a()||r())return!1;1==window.offcanvas_open&&window.offcanvas_close(),window.offcanvas_open=!0,window.offcanvas_from_right=!0,e("body").removeClass("no-offcanvas-animation").addClass("offcanvas_open offcanvas_right lock-scroll"),e(".nano").nanoScroller({iOSNativeScrolling:!0})},window.offcanvas_top=function(){1==window.offcanvas_open?(window.offcanvas_close(),window.offcanvas_open=!1,window.offcanvas_from_top=!1):(window.offcanvas_open=!0,window.offcanvas_from_top=!0,e("body").removeClass("no-offcanvas-animation").addClass("offcanvas_open offcanvas_top lock-scroll"),e(".nano").nanoScroller({iOSNativeScrolling:!0}))},window.offcanvas_bottom=function(){1==window.offcanvas_open?(window.offcanvas_close(),window.offcanvas_open=!1,window.offcanvas_from_bottom=!1):(window.offcanvas_open=!0,window.offcanvas_from_bottom=!0,e("body").removeClass("no-offcanvas-animation").addClass("offcanvas_open offcanvas_bottom lock-scroll"))},e(".barberry-sizeguide-btn").on("click",function(){e(".nano").nanoScroller({iOSNativeScrolling:!0})}),e(".offcanvas_overlay").on("click",function(){window.offcanvas_close(),e(".search-wrap").removeClass("active")}),e(".close-icon").on("click",function(e){window.offcanvas_close()}),e(".menu-trigger").on("click",function(t){t.preventDefault(),window.offcanvas_close(),e(".offcanvas_sidebars").hide(),e(".offcanvas_mainmenu").show(),setTimeout(function(){window.offcanvas_left()},200)}),"sidebar"==barberry_scripts_vars.header_cart_link&&e(".header-cart").on("click",function(e){a()||r()||e.preventDefault(),window.offcanvas_close(),setTimeout(function(){window.offcanvas_right(),t.ShippingFreeNotification()},200)});var a=function(){return e("body").hasClass("woocommerce-cart")},r=function(){return e("body").hasClass("woocommerce-checkout")};e(".barberry-show-sidebar-btn, .shop-sidebar-btn").on("click",function(t){t.preventDefault(),e(".offcanvas_mainmenu").hide(),e(".offcanvas_sidebars").show(),setTimeout(function(){window.offcanvas_left()},100)})},t.parallaxInit=function(){new MobileDetect(window.navigator.userAgent).mobile()||ParallaxScroll.init();new Rellax(".rellax",{})},t.select2=function(){"function"==typeof e.fn.select2&&(e(".woocommerce-widget-layered-nav-dropdown select, .widget_product_categories select, .wpcf7-select").select2({minimumResultsForSearch:0,allowClear:!1}),e(".woocommerce-ordering .orderby").select2({minimumResultsForSearch:-1,dropdownParent:e(".woocommerce-ordering"),allowClear:!1}),e(".variations_form select").select2({minimumResultsForSearch:-1,placeholder:barberry_scripts_vars.select_placeholder,allowClear:!1}),e(".wc-block-product-categories select").select2({minimumResultsForSearch:-1,allowClear:!1}))},t.pageHeaderAnimation=function(){e(".page-header-bg").imagesLoaded({background:!1},function(){e(".page-header-bg-wrapper").addClass("bg-loaded");var a=gsap.timeline(),r=e(".header-sections"),o=e(".topbar"),i=e(".page-title"),n=e(".term-description"),s=e(".breadcrumbs"),c=e(".shop-categories, .blog-categories, body.single .page-header .barberry-entry-meta ul.entry-meta-list"),l=e(".page-title-delimiter"),d=e(".back-btn svg"),u=e(".content-area, .blog-content-area, .post-content-area"),p=e(".woocommerce-pagination, .products_ajax_button"),m=e("#site-footer");a.fromTo(r,{autoAlpha:0},{ease:"power4.inOut",autoAlpha:1,duration:1},.2),a.fromTo(o,{autoAlpha:0},{ease:"power4.inOut",autoAlpha:1,duration:1},.2),a.fromTo(i,{y:100,autoAlpha:0},{ease:"power4.inOut",y:0,autoAlpha:1,duration:1.2},.3),a.fromTo(n,{scale:1.4,autoAlpha:0},{ease:"power4.inOut",scale:1,autoAlpha:1,duration:1.4},.2),a.fromTo(d,{x:20,autoAlpha:0},{ease:"power4.inOut",x:0,autoAlpha:1,duration:1},.5),t.$body.hasClass("woocommerce-shop")?a.fromTo(s,{y:40,autoAlpha:0},{ease:"power4.inOut",y:0,autoAlpha:1,duration:1.2},.25):t.$body.hasClass("single-product")?a.fromTo(s,{y:40,autoAlpha:0},{ease:"power4.inOut",y:0,autoAlpha:1,duration:1.2},.6):a.fromTo(s,{y:40,autoAlpha:0},{ease:"power4.inOut",y:0,autoAlpha:1,duration:1.2},.25),a.fromTo(c,{y:-40,autoAlpha:0},{ease:"power4.inOut",y:0,autoAlpha:1,duration:1.4},.25),a.fromTo(l,{autoAlpha:0,width:0},{autoAlpha:1,width:70,duration:1},.8),a.fromTo(u,{autoAlpha:0},{autoAlpha:1,duration:1},.8),a.fromTo(p,{autoAlpha:0},{autoAlpha:1,duration:1},.8),a.fromTo(m,{autoAlpha:0},{autoAlpha:1,duration:1},1.5)}),t.productInfoAnimation=function(){var t=gsap.timeline(),a=e(".product_title"),r=e(".product_layout #product-images .flickity-slider"),o=e(".product_layout #product-images"),i=e(".single-product .product-thumbnails, .single-product .product-vr-thumbnails"),n=e(".single-product .product-images-wrapper .product-labels"),s=e("body.single-product .product_layout_default .sidebar-container"),c=e(".single-product .box-share-master-container"),l=e(".single-product .product_layout .product-images-inner .product_tool_buttons_placeholder, .product_layout.product_layout_style_3 .product-title-section-wrapper .product-title-section-right"),d=e(".single-product .products-nav, .single-product .woocommerce-message"),u=e(".single-product .product_layout.product_layout_default .product-info-cell .product_summary_middle, .single-product .product_layout.product_layout_style_2 .product-info-cell .product_summary_middle, .product_layout.product_layout_style_3 .product-title-section-wrapper .product-title-section-wrapper-inner .product_summary_middle, .product_layout.product_layout_style_3 .product-info-cell, #barberry_woocommerce_quickview .product_summary_middle"),p=e(".single-product .product_layout.product_layout_default .product-info-cell .product_summary_bottom, .single-product .product_layout.product_layout_style_2 .product-info-cell .product_summary_bottom, #barberry_woocommerce_quickview .product_summary_bottom");t.fromTo(a,{y:100,autoAlpha:0},{ease:"power4.inOut",y:0,autoAlpha:1,duration:1.6},.8),t.fromTo(r,{autoAlpha:0},{ease:"power4.inOut",autoAlpha:1,duration:1},0),t.fromTo(o,{scale:1.1,autoAlpha:0},{ease:"power4.inOut",scale:1,autoAlpha:1,duration:2},.3),t.fromTo(i,{y:20,autoAlpha:0},{ease:"power4.inOut",y:0,autoAlpha:1,onStart:function(){setTimeout(function(){e(".single-product .product-thumbnails-container, .single-product .product-vr-thumbnails-container").addClass("shadow")},600)},duration:1.4},1),t.fromTo(u,{y:40,autoAlpha:0},{ease:"power4.inOut",y:0,autoAlpha:1,duration:2},.8),t.fromTo(p,{y:40,autoAlpha:0},{ease:"power4.inOut",y:0,autoAlpha:1,duration:2},1),t.fromTo(n,{autoAlpha:0},{ease:"power4.inOut",autoAlpha:1,duration:2},.7),t.fromTo(c,{autoAlpha:0},{ease:"power4.inOut",autoAlpha:1,duration:2},.7),t.fromTo(l,{autoAlpha:0},{ease:"power4.inOut",autoAlpha:1,duration:2},.7),t.fromTo(d,{autoAlpha:0},{ease:"power4.inOut",autoAlpha:1,duration:2},.7),t.fromTo(s,{autoAlpha:0},{ease:"power4.inOut",autoAlpha:1,duration:2},.7)}},t.backtoTop=function(){if("0"!=barberry_scripts_vars.backtotop){e(".scrolltotop").on("click",function(){return e("html, body").animate({scrollTop:0},800),!1}),e(".offcanvas_container").length>0&&e(window).on("scroll",function(){e(window).scrollTop()>=300?e(".progress-page").addClass("is-active"):e(".progress-page").removeClass("is-active")});var t=0;e(window).on("scroll",function(){var a=e(window).scrollTop();a>t?e(".progress-page").addClass("is-visible"):a<t&&e(".progress-page").removeClass("is-visible"),t=a});var a=document.querySelector(".progress-page path"),r=a.getTotalLength();a.style.transition=a.style.WebkitTransition="none",a.style.strokeDasharray=r+" "+r,a.style.strokeDashoffset=r,a.getBoundingClientRect(),a.style.transition=a.style.WebkitTransition="stroke-dashoffset 10ms linear";var o=function(){var t=e(window).scrollTop(),o=e(document).height()-e(window).height(),i=r-t*r/o;a.style.strokeDashoffset=i};o(),e(window).on("scroll",function(){o()})}},t.shareInit=function(){if("0"!=barberry_scripts_vars.product_share||"0"!=barberry_scripts_vars.blog_single_share){var t=e(".box-share-master-container, .post-share-container").attr("data-share-elem");e(".social-sharing").socialShare({social:t,animation:"launchpadReverse",blur:!0})}},t.searchInit=function(){if(e(".header-search").on("click",function(){e("form.barberry-ajax-search").find('[type="text"]').devbridgeAutocomplete("hide"),window.offcanvas_top();var t=gsap.timeline(),a=e(".search-header");if(t.fromTo(a,1,{opacity:0},{ease:Power4.easeIn,opacity:1},0),e(".offcanvas_aside .woocommerce-product-search .search-field, .offcanvas_aside .widget_search .search-field").focus(),e(".offcanvas_aside .woocommerce-product-search .search_label").on("click",function(){e(".offcanvas_aside .woocommerce-product-search .search_label").fadeOut(200),e(".offcanvas_aside .woocommerce-product-search .search-field").focus()}),e(":text").on("input",function(){e(".offcanvas_aside .woocommerce-product-search .search_label").fadeOut(200),e(".offcanvas_aside .woocommerce-product-search .search-field").focus()}),void 0!==e.fn.devbridgeAutocomplete){e("form.barberry-ajax-search").each(function(){var t=e(this),a=parseInt(t.data("count")),r=parseInt(t.data("thumbnail")),o=t.parent().find(".search-results-wrapp"),i=t.data("post_type"),n=barberry_scripts_vars.ajaxurl+"?action=barberry_ajax_search",s=parseInt(t.data("price"));a>0&&(n+="&number="+a),n+="&post_type="+i,o.on("click",".view-all-results",function(){t.submit()}),t.find('[type="text"]').devbridgeAutocomplete({minChars:3,serviceUrl:n,appendTo:o,onSelect:function(e){e.permalink.length>0&&(window.location.href=e.permalink)},onSearchStart:function(e){t.addClass("search-loading")},onSearchComplete:function(e,a){t.removeClass("search-loading")},beforeRender:function(e){e[0].childElementCount>2&&jQuery(e).append('<div class="view-all-results"><div class="view-all-button button btn--border"><span>'+barberry_scripts_vars.all_results+"</span></div></div>")},formatResult:function(e,t){"&"==t&&(t="&#038;");var a="("+t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+")",o="";return o+='<div class="suggestion-inner-wrapper"><div class="suggestion-inner">',r&&e.thumbnail&&(o+=' <div class="suggestion-image">'+e.thumbnail+"</div>"),o+='<div class="suggestion-details-wrapper">',o+='<h4 class="suggestion-title result-title">'+e.value.replace(new RegExp(a,"gi"),"<strong>$1</strong>").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")+"</h4>",e.no_found&&(o='<div class="suggestion-title no-found-msg">'+e.value+"</div>"),s&&e.price&&(o+=' <div class="suggestion-price price">'+e.price+"</div>"),o+="</div>",o+="</div></div>"}}),e(".offcanvas_aside .woocommerce-product-search .search-clear").on("click",function(){e(".search-field").val(""),e(".search-field").focus(),t.find('[type="text"]').devbridgeAutocomplete("hide")})})}}),!new MobileDetect(window.navigator.userAgent).mobile()&&"1"===barberry_scripts_vars.typewriter_effect){var t="^800 "+barberry_scripts_vars.typewriter_text,a=barberry_scripts_vars.typewriter_text_2;e(document).one("click",".header-search",function(){new Typed(".offcanvas_aside .woocommerce-product-search .search_label-text",{strings:[t,a],typeSpeed:30,backSpeed:20})})}},t.postsInview=function(){window.sr=ScrollReveal(),sr.reveal(".blog-articles article",{opacity:0,duration:1600,mobile:!0,viewFactor:0})},t.postsNewInview=function(){window.sr=ScrollReveal(),sr.reveal(".blog-articles article.new",{opacity:0,duration:1600,mobile:!0,viewFactor:0})},t.bgParallaxInit=function(){function t(t){var a=this,r=e(window),o=r.scrollTop(),i=!0,n=r.width(),s=r.height(),c=null,l=null,d=null,u=!1;function p(e){o=r.scrollTop(),a.allowScrollUpdate=!0}function m(e){return e&&"[object Function]"==={}.toString.call(e)}a.init=function(t){return a.options=e.extend({target:null,tween:null,ease:Linear.easeNone,min:0,max:1,minSize:0,speed:.3,defaultProgress:1,debug:!1,onMin:null,onMax:null,onOutside:null,onInside:null,onUpdate:null},t),null===a.options.target||a.options.target.length<1?(console.warn("Extra Scroll Animator: no target specified"),!1):null===a.options.tween?(console.warn("Extra Scroll Animator: no tween specified"),!1):(a.allowScrollUpdate=!0,a.update(),void a.repaint())},a.updatePosition=function(e){if(i){var t,r,n=void 0!==e&&e?0:a.options.speed,s=a.options.target.data("coords");if(s)(t=1-(o-s.max)/(s.min-s.max))<=0&&!0!==c?(c=!0,m(a.options.onMin)&&a.options.onMin(),a.options.target.trigger("extra:scrollanimator:min")):t>0&&!1!==c&&(c=!1),t>=1&&!0!==l?(l=!0,m(a.options.onMax)&&a.options.onMax(),a.options.target.trigger("extra:scrollanimator:max")):t<=1&&!1!==l&&(l=!1),!0!==c&&!0!==l||!1===d?t<=1&&t>=0&&!0!==d&&(d=!0,m(a.options.onInside)&&a.options.onInside(),a.options.target.trigger("extra:scrollanimator:inside")):(d=!1,m(a.options.onOutside)&&a.options.onOutside(),a.options.target.trigger("extra:scrollanimator:outside")),!1===d&&(t=l?1:0),t=Math.max(0,Math.min(t)),r=t,!0===a.options.debug&&console.log(r),TweenMax.to(a.options.tween,n,{progress:t,ease:a.options.ease})}},a.update=function(){n=r.width(),s=r.height();var e={},t=a.options.target.offset().top,o=a.options.target.height(),i=a.options.min,c=a.options.max;e.min=t-s+s*i,e.max=t-s+o+s*c,a.options.target.data("coords",e),a.options.tween.paused(!0),a.options.tween.progress(a.options.defaultProgress),n<a.options.minSize?r.off("scroll",p):(r.on("scroll",p),a.updatePosition(!0)),m(a.options.onUpdate)&&a.options.onUpdate(e),a.options.target.trigger("extra:scrollanimator:update",[e])},r.on("extra:resize",a.update),r.on("extra:scrollanimator:resize",a.update),r.on("extra:scrollanimator:tick",a.updatePosition),a.repaint=function(){i&&(a.allowScrollUpdate?(a.updatePosition(),a.allowScrollUpdate=!1,window.requestAnimationFrame(a.repaint)):window.requestAnimationFrame(a.repaint))},a.init(t),a.updateTween=function(e){a.options.tween&&a.options.tween.kill(),a.options.tween=e,a.options.tween.paused(!0),a.options.tween.progress(a.options.defaultProgress),a.allowScrollUpdate=!0,a.update()},a.pause=function(){u||(r.off("scroll",p),r.off("extra:resize",a.update),i=!1,u=!0)},a.resume=function(){u&&(n<a.options.minSize?r.off("scroll",p):r.on("scroll",p),r.on("extra:resize",a.update),i=!0,u=!1,a.repaint())},a.destroy=function(){i=!1,r.off("scroll",p),r.off("extra:resize",a.update),r.off("extra:scrollanimator:tick",a.updatePosition),a.options.tween&&(a.options.tween.paused(!0),a.options.tween.progress(a.options.defaultProgress),a.options.tween.kill()),a.allowScrollUpdate=!1}}window.initPrllx=function(a){e(".site-content").find(".entry-thumbnail").each(function(){var a,r=e(this),o=r.children(),i=r.find(".prllx");o.width();(a=gsap.timeline({})).set(i,{y:-1*i.attr("data-prllx")}).to(i,1,{y:i.attr("data-prllx"),overwrite:"all",ease:"Power0.easeNone"},"0"),new t({target:r,tween:a,defaultProgress:0,speed:0,min:-.2,max:1.3}),r.on("extra:scrollanimator:update",function(e){e.stopPropagation()})})};new MobileDetect(window.navigator.userAgent).mobile();e(window).on("load",function(){initPrllx()})},t.loadingPostsAjax=function(){var a={init:function(){if("load_more_button"!=barberry_scripts_vars.blog_pagination_type&&"infinite_scroll"!=barberry_scripts_vars.blog_pagination_type||(e(document).ready(function(){e(".posts-navigation").length&&e(".posts-navigation").before('<div class="pagination-container"><div class="'+".posts_ajax_button".replace(".","")+'" data-processing="0"><div class="loadmore"><span>'+barberry_scripts_vars.ajax_loading_locale+'</span><div class="container"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div></div></div>')}),e("body").on("click",".posts_ajax_button",function(r){if(r.preventDefault(),e(".posts-navigation a.next").length){e(".posts_ajax_button").attr("data-processing",1).addClass("loading");var o=e(".posts-navigation a.next").attr("href");a.onstart(),e.get(o,function(r){e(".posts-navigation").html(e(r).find(".posts-navigation").html()),e(r).find(".blog-articles article").each(function(){e(e(this)).addClass("new"),e(".blog-articles > article:last").after(e(this)),"1"==barberry_scripts_vars.blog_posts_parallax&&window.initPrllx(),"1"==barberry_scripts_vars.load_animation&&t.postsNewInview(),e(e(this)).removeClass("new")}),e(".posts_ajax_button").attr("data-processing",0).removeClass("loading"),a.onfinish(),0==e(".posts-navigation a.next").length?e(".posts_ajax_button").addClass("disabled").show():e(".posts_ajax_button").show()})}else e(".posts_ajax_button").addClass("disabled").show()})),"infinite_scroll"==barberry_scripts_vars.blog_pagination_type){var r=Math.abs(0);e(window).scroll(function(){e(".blog-articles").length&&(e(".blog-articles").offset().top+e(".blog-articles").outerHeight()-e(window).scrollTop()-r<e(window).height()&&0==e(".posts_ajax_button").attr("data-processing")&&e(".posts_ajax_button").trigger("click"))})}},onstart:function(){},onfinish:function(){}};a.init()},t.postGallery=function(){e(".reveal").on("click",".next",function(){var t=e(this).parent(".reveal").next(".reveal").attr("id");t&&e(t="#"+t).foundation("open")}),e(".reveal").on("click",".prev",function(){var t=e(this).parent(".reveal").prev(".reveal").attr("id");t&&e(t="#"+t).foundation("open")}),e(".reveal.blog-gallery").length&&(e(".reveal.blog-gallery:first").find(".blog-gallery-btn.prev").hide(),e(".reveal.blog-gallery:last").find(".blog-gallery-btn.next").hide())},t.ShippingFreeNotification=function(){e(".barberry-total-condition").length&&e(".barberry-total-condition").each(function(){if(!e(this).hasClass("barberry-active")){e(this).addClass("barberry-active");var t=e(this).attr("data-per");e(this).find(".barberry-total-condition-hin, .barberry-subtotal-condition").css({width:t+"%"})}})},t.ShippingFreeNotification(),e("body").on("updated_wc_div",function(){t.ShippingFreeNotification()}),e("body").on("removed_from_cart",function(){t.ShippingFreeNotification()}),t.splitText=function(){var t=new MobileDetect(window.navigator.userAgent).mobile();if(e(window).width()>1024&&!t){if(e(".product-grid-layout-2").length>0&&e(".product-grid-layout-2 .product").length>0&&e(".product-grid-layout-2 .product .product-title").length>0){var a=e(".product-grid-layout-2 .product-title a");new SplitText(a,{type:"lines"}),gsap.timeline(),e(".product-grid-layout-2 .product-title a div").wrapInner("<span></span>")}if(e(".category-grid-layout-2").length>0&&e(".category-grid-layout-2 .product-category").length>0){a=e(".category-grid-layout-2 .category-title"),new SplitText(a,{type:"lines"}),gsap.timeline();e(".category-grid-layout-2 .category-title div").wrapInner("<span></span>")}}},t.splitTextNew=function(){var t=new MobileDetect(window.navigator.userAgent).mobile();if(e(window).width()>1024&&!t&&e(".product-grid-layout-2").length>0){var a=e(".product-grid-layout-2 .product.new .product-title a");new SplitText(a,{type:"lines"}),gsap.timeline();e(".product-grid-layout-2 .product.new .product-title a div").wrapInner("<span></span>")}},t.animationProduct=function(){var t=new MobileDetect(window.navigator.userAgent).mobile();window.sr=ScrollReveal(),sr.reveal("ul.products .product",{opacity:0,viewFactor:.2,afterReveal:function(a){a.classList.add("active");var r=a.querySelectorAll(".product-title a div span, .category-title div span"),o=a.querySelector(".star-rating, .more-products"),i=a.querySelector(".price");a.visuelRevealTL=gsap.timeline(),e(window).width()>1024&&(t||(e(".product-grid-layout-2").length>0&&(a.visuelRevealTL.fromTo(r,{ease:"power4.Out",x:30,y:100,skewX:60,autoAlpha:0},{ease:"power4.Out",x:0,y:0,skewX:0,autoAlpha:1,duration:1},0),null!==o&&a.visuelRevealTL.fromTo(o,{y:10,autoAlpha:0},{ease:"power4.Out",y:0,autoAlpha:1,duration:2},.4),null!==i&&a.visuelRevealTL.fromTo(i,{y:10},{ease:"power4.Out",y:0,autoAlpha:1,duration:2},.2)),e(".category-grid-layout-2").length>0&&e(".category-grid-layout-2 .product-category").length>0&&(a.visuelRevealTL.fromTo(r,{ease:"power4.Out",x:30,y:100,skewX:60,autoAlpha:0},{ease:"power4.Out",x:0,y:0,skewX:0,autoAlpha:1,duration:1},0),null!==o&&a.visuelRevealTL.fromTo(o,{y:10,autoAlpha:0},{ease:"power4.Out",y:0,autoAlpha:1,duration:2},.4),null!==i&&a.visuelRevealTL.fromTo(i,{y:10},{ease:"power4.Out",y:0,autoAlpha:1,duration:2},.2))))},beforeReveal:function(e){e.classList.add("active");var t=e.querySelector(".product-inner .loop-thumbnail img, .category_wrapper .category_image img");null!==t&&(e.visuelRevealTL=gsap.timeline(),e.visuelRevealTL.fromTo(t,{scale:1.1},{ease:"power4.Out",scale:1,duration:2},0))}},150)},t.animationNewProduct=function(){var t=new MobileDetect(window.navigator.userAgent).mobile();window.sr=ScrollReveal(),sr.reveal("ul.products .product.new",{opacity:0,viewFactor:.2,afterReveal:function(a){a.classList.add("active");var r=a.querySelectorAll(".product-title a div span, .category-title div span"),o=a.querySelector(".star-rating, .more-products"),i=a.querySelector(".price");a.visuelRevealTL=gsap.timeline(),e(window).width()>1024&&(t||(e(".product-grid-layout-2").length>0||e(".category-grid-layout-2").length>0)&&(a.visuelRevealTL.fromTo(r,{ease:"power4.Out",x:30,y:100,skewX:60,autoAlpha:0},{ease:"power4.Out",x:0,y:0,skewX:0,autoAlpha:1,duration:1},0),null!==o&&a.visuelRevealTL.fromTo(o,{y:10,autoAlpha:0},{ease:"power4.Out",y:0,autoAlpha:1,duration:2},.4),null!==i&&a.visuelRevealTL.fromTo(i,{y:10},{ease:"power4.Out",y:0,autoAlpha:1,duration:2},.2)))},beforeReveal:function(e){e.classList.add("active");var t=e.querySelector(".product-inner .loop-thumbnail img, .category_wrapper .category_image img");null!==t&&(e.visuelRevealTL=gsap.timeline(),e.visuelRevealTL.fromTo(t,{scale:1.1},{ease:"power4.Out",scale:1,duration:2},0))}},150)},t.productCard=function(){e("ul.products li.product .product-inner").on({mouseenter:function(){setTimeout(function(){e(this).addClass("phover")}.bind(this),200)},mouseleave:function(){setTimeout(function(){e(this).removeClass("phover")}.bind(this),200)}}),e(document).on("click",".footer-section-inner .add_to_wishlist",function(a){var r=e(this);r.addClass("clicked"),r.parents(".footer-section-inner").addClass("adding"),setTimeout(function(){r.addClass("loading")},0),t.$body.on("added_to_wishlist",function(){e(".header-wishlist").addClass("animated"),r.removeClass("loading"),r.parents(".footer-section-inner").removeClass("adding"),setTimeout(function(){e(".header-wishlist").removeClass("animated")},2e3),r.removeClass("add_to_wishlist").addClass("added"),r.attr("href",r.data("wishlist-url")),r.children(".tooltip").text(r.data("browse-wishlist-text"))})}),e(document).on("click",".footer-section .barberry_product_quick_view_button",function(){var t=e(this);t.addClass("clicked"),t.parents(".product-inner").addClass("adding"),setTimeout(function(){t.addClass("loading")},200),e(document.body).on("opened_product_quickview",function(){t.parents(".product-inner").removeClass("adding"),t.removeClass("loading").removeClass("clicked")})}),e(document).on("click",".footer-section  .ajax_add_to_cart, .footer-section  .add_to_cart_button",function(){var a=e(this);a.addClass("clicked"),a.parents(".product-inner").addClass("adding"),setTimeout(function(){a.addClass("loading")},200),t.$body.on("wc_cart_button_updated",function(){if(a.removeClass("loading").removeClass("clicked"),a.parents(".product-inner").removeClass("adding"),e(".header-cart").addClass("animated"),setTimeout(function(){e(".header-cart").removeClass("animated")},2e3),a.siblings(".added_to_cart").length){var r=a.siblings(".added_to_cart").attr("href"),o=a.siblings(".added_to_cart").text();0==barberry_scripts_vars.shop_addtocart&&(a.siblings(".added_to_cart").remove(),a.attr("href",r),a.text(o),a.children(".tooltip").text(o),a.removeClass().addClass("button added wc-forward")),window.offcanvas_close(),setTimeout(function(){"no_action"!=barberry_scripts_vars.add_to_cart_action&&(t.ShippingFreeNotification(),window.offcanvas_right())},200)}})})},t.productQuantity=function(){e("body").on("click",".plus-btn, .minus-btn",function(t){t.preventDefault();var a=e(this).parents(".quantity").find(".qty"),r=e(this).parent().parent().find(".single_add_to_cart_button"),o=parseFloat(a.val()),i=parseFloat(a.attr("max")),n=parseFloat(a.attr("min")),s=a.attr("step");o=o||0,i=i||"",n=n||1,"any"!==s&&""!==s&&void 0!==s&&"NaN"!==parseFloat(s)||(s=1),e(this).is(".plus-btn")?i&&(i==o||o>i)?(a.val(i),r.length&&r.attr("data-quantity",i)):(a.val(o+parseFloat(s)),r.length&&r.attr("data-quantity",o+parseFloat(s))):n&&(n==o||o<n)?(a.val(n),r.length&&r.attr("data-quantity",n)):o>0&&(a.val(o-parseFloat(s)),r.length&&r.attr("data-quantity",o-parseFloat(s))),a.trigger("change")})},t.productSwatches=function(){e("body").on("tawcvs_initialized",function(){e(".variations_form").unbind("tawcvs_no_matching_variations"),e(".variations_form").on("tawcvs_no_matching_variations",function(t,a){t.preventDefault(),a.addClass("selected"),e(".variations_form").find(".woocommerce-variation.single_variation").show(),"undefined"!=typeof wc_add_to_cart_variation_params&&e(".variations_form").find(".single_variation").slideDown(200).html("<p>"+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>")})}),e("body").on("click",".br-swatch-variation-image",function(t){t.preventDefault(),e(this).siblings(".br-swatch-variation-image").removeClass("selected"),e(this).addClass("selected");var a=e(this).data("src"),r=e(this).data("src-set"),o=e(this).parents("li.product").find(".product-image > a"),i=o.find("img").first(),n=i.first().width(),s=i.first().height();o.addClass("image-loading"),o.css({width:n,height:s,display:"block"}),i.attr("src",a),r&&i.attr("srcset",r),i.load(function(){o.removeClass("image-loading"),o.removeAttr("style")})})},t.loadingAjax=function(){var a=".content-area .products",r="body.woocommerce-shop .woocommerce-pagination",o=".woocommerce-pagination a.next",i=".products_ajax_button",n={init:function(){if("load_more_button"!=barberry_scripts_vars.shop_pagination_type&&"infinite_scroll"!=barberry_scripts_vars.shop_pagination_type||(e(document).ready(function(){e(r).length&&e(r).before('<div class="'+i.replace(".","")+'" data-processing="0"><div class="loadmore"><span>'+barberry_scripts_vars.ajax_loading_locale+'</span><div class="container"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div></div></div>')}),e("body").on("click",i,function(s){if(s.preventDefault(),!e(o).data("requestRunning"))if(e(o).data("requestRunning",!0),e(o).length){e(i).attr("data-processing",1).addClass("loading");var c=e(o).attr("href");n.onstart(),e.get(c,function(s){e(r).html(e(s).find(".woocommerce-pagination").html()),e(s).find(".content-area ul.products li").each(function(r){e(e(this)).addClass("new"),e(a).append(e(this)),t.splitTextNew(),t.animationNewProduct(),e(e(this)).removeClass("new")}),e(i).attr("data-processing",0).removeClass("loading"),n.onfinish(),0==e(o).length?e(i).addClass("disabled").show():e(i).show()})}else e(i).addClass("disabled").show()})),"infinite_scroll"==barberry_scripts_vars.shop_pagination_type){var s=Math.abs(100);e(window).scroll(function(){e(a).length&&(e(a).offset().top+e(a).outerHeight()-e(window).scrollTop()-s<e(window).height()&&0==e(i).attr("data-processing")&&e(i).trigger("click"))})}},onstart:function(){},onfinish:function(){t.lazyLoad(),t.countDownTimer()}};n.init(),n.onfinish()},t.paginationHide=function(){var t=gsap.timeline(),a=e(".woocommerce-pagination, .products_ajax_button");t.fromTo(a,{autoAlpha:1},{ease:"power4.InOut",autoAlpha:0,duration:1},0)},t.paginationShow=function(){var t=gsap.timeline(),a=e(".woocommerce-pagination, .products_ajax_button");t.fromTo(a,{autoAlpha:0},{ease:"power4.InOut",autoAlpha:1,duration:1},.5)},t.filterAjax=function(){if(t.$body.hasClass("catalog-ajax-filter")){t.$body.on("price_slider_change",function(t,a){var r=e(".price_slider").closest("form").get(0),o=e(r),i=o.attr("action")+"?"+o.serialize();e(document.body).trigger("barberry_catalog_filter_ajax",i,e(this))}),t.$body.on("click",".barberry-clear-filters",function(t){t.preventDefault();var a=e(this).attr("href");e(document.body).trigger("barberry_catalog_filter_ajax",a,e(this))});var a=e(document.body).find("form.woocommerce-ordering");a.length&&(a.on("submit",function(e){e.preventDefault()}),e(document.body).on("change","form.woocommerce-ordering select.orderby",function(t){t.preventDefault();var r=window.location.search,o=window.location.href.replace(window.location.search,"")+function(e,t){if(""===e.trim())return"?"+t;var a={};for(var r in t.split("&").forEach(function(e){var t=e.split("=");t[1]&&(a[t[0]]=t[1])}),a){var o=e.indexOf("#");-1===o||uri.substr(o),e=-1===o?e:e.substr(0,o);var i=new RegExp("([?&])"+r+"=.*?(&|$)","i");e=e.match(i)?e.replace(i,"$1"+r+"="+a[r]+"$2"):e+"&"+r+"="+a[r]}return e}(r,a.serialize());e(document.body).trigger("barberry_catalog_filter_ajax",[o,a])})),t.$body.find(".site-shop-filters, .barberry-active-filters, .woocommerce-sidebar-inside .widget-area").on("click","a",function(t){var a=e(this).closest(".widget");if(a.hasClass("widget_layered_nav_filters")||a.hasClass("widget_layered_nav")||a.hasClass("product-sort-by")||a.hasClass("widget_price_filter")||a.hasClass("barberry-price-filter-list")){t.preventDefault(),e(this).closest("li").addClass("chosen");var r=e(this).attr("href");e(document.body).trigger("barberry_catalog_filter_ajax",r,e(this))}a.hasClass("product-sort-by")&&e(this).addClass("active")}),e(document.body).on("barberry_catalog_filter_ajax",function(a,r,o){var i=e(".shop-content-inner"),n=e(".woocommerce-sidebar-inside .widget-area"),s=e(".site-shop-filters"),c=e(".barberry-active-filters"),l=e(".widget_product_categories select"),d=e(".woocommerce-archive-header .woocommerce-ordering"),u=e(".woocommerce-archive-header .product-found"),p=e(".woocommerce-archive-header .filter_switch");if(e(".barberry-active-filters").children().length>0&&e(this).addClass("with-active-filters"),e(".woocommerce-archive-header").length>0){if(Foundation.MediaQuery.atLeast("large"))var m=e(".woocommerce-archive-header").offset().top-110;else m=e(".woocommerce-archive-header").offset().top-60;e(".shop-content .shop-content-inner .grid-container").children().length>0?("0"==barberry_scripts_vars.shop_filters_close?(window.offcanvas_close(),window.filters_button_off()):e(".offcanvas_shop_sidebar").addClass("show"),e("html, body").stop().animate({scrollTop:m},1200)):window.filters_button_on()}e("#shop-loading").addClass("show"),e("ul.products").addClass("show"),t.paginationHide(),"?"==r.slice(-1)&&(r=r.slice(0,-1)),r=r.replace(/%2C/g,","),history.pushState({page:r},"",r),e(document.body).trigger("barberry_ajax_filter_before_send_request",[r,o]),t.ajaxXHR&&t.ajaxXHR.abort(),t.ajaxXHR=e.get(r,function(a){i.replaceWith(e(a).find(".shop-content-inner")),n.html(e(a).find(".woocommerce-sidebar-inside .widget-area").html()),s.html(e(a).find(".site-shop-filters").html()),l.html(e(a).find(".widget_product_categories select").html()),d.html(e(a).find(".woocommerce-archive-header .woocommerce-ordering").html()),u.html(e(a).find(".woocommerce-archive-header .product-found").html()),p.html(e(a).find(".woocommerce-archive-header .filter_switch").html()),c.html(e(a).find(".barberry-active-filters").html()),t.priceSlider(),t.lazyLoad(),t.widgetProductCategories(),t.select2(),t.splitText(),t.animationProduct(),t.loadingAjax(),t.filters_scroll(),t.countDownTimer(),e("#shop-loading").removeClass("show"),e("ul.products").removeClass("show"),t.paginationShow(),e(document.body).trigger("barberry_ajax_filter_request_success",[a,r])},"html")})}},t.quickView=function(){function a(){e("body").removeClass("photoswipe-blur"),e("#barberry_woocommerce_quickview").removeClass("open"),e("#barberry_woocommerce_quickview .barberryd_qv_content").removeClass("maybe_scroll"),e("#barberry_woocommerce_quickview .barberry_qv_content").empty(),e(document.body).trigger("closed_product_quickview")}"0"!=barberry_scripts_vars.product_quick_view&&(e(".offcanvas_main_content").on("click",".barberry_product_quick_view_button",function(r){r.preventDefault(),a();var o,i=e(this).data("product_id");o=i,e.ajax({url:barberry_scripts_vars.ajaxurl,data:{action:"barberry_product_quick_view",product_id:o},success:function(r){e(".barberry_qv_content").empty().html(r),e("body").removeClass("progress"),setTimeout(function(){e(document.body).trigger("opened_product_quickview"),e("#barberry_woocommerce_quickview").addClass("open")},500),setTimeout(function(){e("body").addClass("photoswipe-blur")},700),e("#barberry_woocommerce_quickview button.single_add_to_cart_button.progress-btn").on("click",function(r){if(r.preventDefault(),!e(this).hasClass("disabled")){var o=e(this);o.hasClass("active")||(o.addClass("active"),setTimeout(function(){o.addClass("check")},3e3),setTimeout(function(){o.removeClass("active"),o.removeClass("check")},5e3)),setTimeout(function(){e(".header-cart").addClass("animated")},1e3),setTimeout(function(){e(".header-cart").removeClass("animated")},2e3);var i=e(this).closest("form.cart"),n=e(this);if(n.addClass("loading"),n.hasClass("loading")){var s=i.serializeArray(),c=window.location.href,l=n.attr("value");if(void 0!==l&&!1!==l){var d={name:"add-to-cart",value:l};s.push(d)}e.ajax({url:window.location.href,method:"post",data:s,error:function(){window.location=c},success:function(r){r||(window.location=c),"undefined"==typeof wc_add_to_cart_params||"yes"!==wc_add_to_cart_params.cart_redirect_after_add?(e(document.body).trigger("updated_wc_div"),e(document.body).on("wc_fragments_refreshed",function(){n.removeClass("loading"),t.ShippingFreeNotification(),setTimeout(function(){a(),"no_action"!=barberry_scripts_vars.add_to_cart_action&&window.offcanvas_right()},300)})):window.location=wc_add_to_cart_params.cart_url}})}}});for(var o=document.querySelectorAll("#barberry_woocommerce_quickview .woocommerce-product-gallery"),i=0;i<o.length;i++)n(o[i]);function n(a){var r=a.querySelector("#product-images"),o=r.querySelectorAll(".product-gallery-cell");e(document).on("found_variation","form.variations_form",function(e,t){e.preventDefault(),i.selectCell(0)}).on("reset_image",function(){i.selectCell(0)});var i=new Flickity(r,{imagesLoaded:!0,percentPosition:!0,cellAlign:"left",contain:!0,lazyLoad:!0,wrapAround:!0,pageDots:o.length>1,prevNextButtons:o.length>1,dragThreshold:15,adaptiveHeight:!0,arrowShape:{x0:10,x1:60,y1:50,x2:60,y2:40,x3:20},on:{ready:function(){var a=gsap.timeline(),r=e("#barberry_woocommerce_quickview #product-images, #barberry_woocommerce_quickview .flickity-slider"),o=e("#barberry_woocommerce_quickview #product-images"),i=e("#barberry_woocommerce_quickview .breadcrumbs");a.fromTo(r,{autoAlpha:0},{ease:"power4.InOut",autoAlpha:1,duration:1},0),a.fromTo(o,{scale:1.15,autoAlpha:0},{ease:"power4.InOut",scale:1,autoAlpha:1,duration:2},.3),a.fromTo(i,{y:40,autoAlpha:0},{ease:"power4.InOut",y:0,autoAlpha:1,duration:1.2},1),"1"==barberry_scripts_vars.load_animation&&t.productInfoAnimation()}}})}"function"==typeof e.fn.select2&&e("#barberry_woocommerce_quickview .variations_form select").select2({minimumResultsForSearch:-1,dropdownParent:e("#barberry_woocommerce_quickview .variations_form"),allowClear:!1});var s=e("#barberry_woocommerce_quickview").find(".variations_form"),c=e("#barberry_woocommerce_quickview").find(".variations_form .variations select");s.wc_variation_form(),c.change(),void 0!==e.fn.tawcvs_variation_swatches_form&&s.tawcvs_variation_swatches_form(),setTimeout(function(){e(window).width()>1024&&e("#barberry_woocommerce_quickview .nano").nanoScroller({iOSNativeScrolling:!0}),e("#barberry_woocommerce_quickview .barberry_qv_content").addClass("maybe_scroll")},1200)}})}),e("#barberry_woocommerce_quickview").on("click",function(t){var r=e([".barberry_qv_content"].join(", "));r.is(t.target)||0!==r.has(t.target).length||a()}),e("#barberry_woocommerce_quickview").on("click",".close-button-wrapper",function(e){a()}))},t.priceSlider=function(){if("undefined"==typeof woocommerce_price_slider_params)return!1;e("input#min_price, input#max_price").hide(),e(".price_slider, .price_label").show();var t=e(".price_slider_amount #min_price").data("min"),a=e(".price_slider_amount #max_price").data("max"),r=parseInt(t,10),o=parseInt(a,10);""!=e(".price_slider_amount #min_price").val()&&(r=parseInt(e(".price_slider_amount #min_price").val(),10)),""!=e(".price_slider_amount #max_price").val()&&(o=parseInt(e(".price_slider_amount #max_price").val(),10)),e(document.body).bind("price_slider_create price_slider_slide",function(t,a,r){"left"===woocommerce_price_slider_params.currency_pos?(e(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+a),e(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+r)):"left_space"===woocommerce_price_slider_params.currency_pos?(e(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+" "+a),e(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+" "+r)):"right"===woocommerce_price_slider_params.currency_pos?(e(".price_slider_amount span.from").html(a+woocommerce_price_slider_params.currency_symbol),e(".price_slider_amount span.to").html(r+woocommerce_price_slider_params.currency_symbol)):"right_space"===woocommerce_price_slider_params.currency_pos&&(e(".price_slider_amount span.from").html(a+" "+woocommerce_price_slider_params.currency_symbol),e(".price_slider_amount span.to").html(r+" "+woocommerce_price_slider_params.currency_symbol)),e(document.body).trigger("price_slider_updated",[a,r])}),void 0!==e.fn.slider&&e(".price_slider").slider({range:!0,animate:!0,min:t,max:a,values:[r,o],create:function(){e(".price_slider_amount #min_price").val(r),e(".price_slider_amount #max_price").val(o),e(document.body).trigger("price_slider_create",[r,o])},slide:function(t,a){e("input#min_price").val(a.values[0]),e("input#max_price").val(a.values[1]),e(document.body).trigger("price_slider_slide",[a.values[0],a.values[1]])},change:function(t,a){e(document.body).trigger("price_slider_change",[a.values[0],a.values[1]])}})},t.ajaxWishlist=function(){t.$body.on("added_to_wishlist removed_from_wishlist",function(){e.ajax({url:barberry_scripts_vars.ajaxurl,dataType:"json",method:"post",data:{action:"barberry_update_wishlist_count"},success:function(t){t>=0&&e("body").addClass("has-wishlist"),e(".site-header").find(".header-wishlist .wishlist_items_number").html(t),0==t&&e("body").removeClass("has-wishlist")}})})},t.filterToggle=function(){if(window.filters_button_off=function(){var t=e(".woocommerce-archive-header .filter_switch"),a=e(".woocommerce-archive-header .site-shop-filters");t.removeClass("active"),t.attr("data-toggled","off"),a.slideUp(300).removeClass("on-screen"),e(".woocommerce-archive-header .shop-filters-area-content").children().length>0&&t.removeClass("with-filters")},window.filters_button_on=function(){var t=e(".woocommerce-archive-header .filter_switch"),a=e(".woocommerce-archive-header .site-shop-filters");t.addClass("active"),t.attr("data-toggled","on"),a.slideDown(300).addClass("on-screen")},window.filters_button_on_off=function(){e(".woocommerce-archive-header .filter_switch").removeClass("with-filters"),Foundation.MediaQuery.atLeast("large")?e(".woocommerce-archive-header .shop-filters-area-content").children().length>0&&e(".woocommerce-archive-header .filter_switch").addClass("with-filters"):(e(".woocommerce-archive-header .shop-widget-area").length>0||e(".woocommerce-archive-header .shop-filters-area-content").children().length>0)&&e(".woocommerce-archive-header .filter_switch").addClass("with-filters")},window.filters_button_on_off(),e(".woocommerce-archive-header")){var t=e(".woocommerce-archive-header .filter_switch"),a=e(".woocommerce-archive-header .site-shop-filters");t.off("click").on("click",t,function(){e(this).attr("data-toggled")&&"off"!=e(this).attr("data-toggled")?"on"==e(this).attr("data-toggled")&&(e(this).attr("data-toggled","off"),e(this).removeClass("active"),a.slideUp(300).removeClass("on-screen")):(e(this).attr("data-toggled","on"),e(this).addClass("active"),a.slideDown(300).addClass("on-screen"))})}e(window).on("resize",function(){window.filters_button_on_off()})},t.filters_scroll=function(){var t=e(".woocommerce-shop .site-shop-filters .widget-area .widget_layered_nav ul");t.length&&t.each(function(){e(this).find("li").length>5&&e(this).addClass("add_scroll")});var a=e(".product-vr-thumbnails-container");a.length&&a.each(function(){a.attr("data-thumb")>4&&e(this).addClass("add_scroll")});var r=function(){if(e("#barberry-filters-wrapper").length){var t=document.getElementById("barberry-filters-wrapper").scrollWidth;e(".barberry-active-filters").removeClass("add_scroll"),t>e(window).outerWidth()&&e(".barberry-active-filters").addClass("add_scroll")}};r(),e(window).on("resize",function(){r()});var o=function(){if(e(".barberry-fixed-product-variations-wrap").length){var t=e(".barberry-fixed-product-variations-wrap").innerWidth(),a=document.getElementById("barberry-fixed-product-variations").scrollWidth;e(".barberry-fixed-product-variations-wrap").removeClass("add_scroll"),a>t&&e(".barberry-fixed-product-variations-wrap").addClass("add_scroll")}};o(),e(window).on("resize",function(){o()})},t.widgetProductCategories=function(){e(".product-categories-with-icon").on("click",".cat-parent .dropdown_icon",function(){e(this).parent().toggleClass("active-item"),e(this).siblings("ul.children").slideToggle("300",function(){})}),e(".product-categories-with-icon .cat-item").each(function(){e(this).find("ul.children").find("li").length>8&&e(this).find("ul.children").addClass("add_scroll"),e(this).hasClass("current-cat")&&(e(this).addClass("active-item"),e(this).find("ul.children").show()),e(this).hasClass("current-cat-parent")&&(e(this).addClass("active-item"),e(this).find("ul.children").show()),e(this).hasClass("cat-parent")&&(e(this).find("img").length||e(this).addClass("no-icon"))})},t.stickyShopSidebar=function(){if("0"!=barberry_scripts_vars.shop_sticky_sidebar&&!e("body").hasClass("single-product")){var t=40;e(".header--clone").length>0&&(t=100),e(".shop-sidebar-container").theiaStickySidebar({additionalMarginTop:t,additionalMarginBottom:40,resizeSensor:!0,minWidth:1024,containerSelector:".main-shop-container",innerWrapperSelector:".woocommerce-sidebar-inside"})}},t.stickySidebarBtn=function(){var t=e(".barberry-show-sidebar-btn"),a=e(".shop-sidebar-btn");if(!(a.length<=0||t.length<=0||e(window).width()>=1024)){var r=function(){t.offset().top+t.outerHeight()<e(window).scrollTop()?a.addClass("barberry-sidebar-btn-shown"):a.removeClass("barberry-sidebar-btn-shown")};r(),e(window).scroll(r),e(window).resize(r)}},t.removeFromCart=function(){e(document).on("click",".widget_shopping_cart .remove",function(a){a.preventDefault(),e(this).parent().addClass("removing-process"),t.ShippingFreeNotification()})},t.couponFocus=function(){e(document).on("focus",".woocommerce-cart #content .cart .actions .coupon #coupon_code",function(){e(".woocommerce-cart #content .cart .actions .coupon").addClass("focus")}),e(document).on("focusout",".woocommerce-cart #content .cart .actions .coupon #coupon_code",function(){e(".woocommerce-cart #content .cart .actions .coupon").removeClass("focus")}),e(document).on("focus","body.woocommerce-checkout #couponModal .coupon #coupon_code",function(){e("body.woocommerce-checkout #couponModal .coupon").addClass("focus")}),e(document).on("focusout","body.woocommerce-checkout #couponModal .coupon #coupon_code",function(){e("body.woocommerce-checkout #couponModal .coupon").removeClass("focus")}),e(document).on("focus",".woocommerce-cart .coupon #giftcard_code",function(){e(".woocommerce-cart .coupon").addClass("focus")}),e(document).on("focusout",".woocommerce-cart .coupon #giftcard_code",function(){e(".woocommerce-cart .coupon").removeClass("focus")}),e(document).on("focus","body.woocommerce-checkout #giftModal .coupon #giftcard_code",function(){e("body.woocommerce-checkout #giftModal .coupon").addClass("focus")}),e(document).on("focusout","body.woocommerce-checkout #giftModal .coupon #giftcard_code",function(){e("body.woocommerce-checkout #giftModal .coupon").removeClass("focus")})},t.woocommerceNotices=function(){if(0!=barberry_scripts_vars.notifications_click){e("body").on("click",".woocommerce-error, .woocommerce-info:not(.wc-amazon-payments-advanced-info), .woocommerce-message, div.wpcf7-response-output, #yith-wcwl-popup-message, .mc4wp-alert, .dokan-store-contact .alert-success, .yith_ywraq_add_item_product_message",function(a){a.preventDefault();var r=e(this);t(r)});var t=function(e){e.removeClass("shown-notice").addClass("hidden-notice")}}},t.shopLogin=function(){var t=350;function a(){var a=e("#bb-login-wrap"),r=e("#bb-register-wrap");a.removeClass("fade-in"),setTimeout(function(){r.addClass("inline fade-in slide-up"),a.removeClass("inline slide-up")},t)}e("#bb-show-register-button").on("click",function(r){r.preventDefault(),e("html, body").animate({scrollTop:0},t),a()}),e("#bb-show-login-button").on("click",function(a){var r,o;a.preventDefault(),e("html, body").animate({scrollTop:0},t),r=e("#bb-login-wrap"),(o=e("#bb-register-wrap")).removeClass("fade-in"),setTimeout(function(){r.addClass("inline fade-in slide-up"),o.removeClass("inline slide-up")},t)}),window.location.hash&&"#register"==window.location.hash&&a()},t.countDownTimer=function(){e(".barberry-timer").each(function(){var t=e(this);dayjs.extend(window.dayjs_plugin_utc),dayjs.extend(window.dayjs_plugin_timezone);var a=dayjs.tz(t.data("end-date"),t.data("timezone"));e(this).countdown(a.toDate(),function(t){e(this).html(t.strftime('<span class="countdown-days">%-D <span>'+barberry_scripts_vars.countdown_days+'</span></span> <span class="countdown-hours">%H <span>'+barberry_scripts_vars.countdown_hours+'</span></span> <span class="countdown-min">%M <span>'+barberry_scripts_vars.countdown_mins+'</span></span> <span class="countdown-sec">%S <span>'+barberry_scripts_vars.countdown_sec+"</span></span>"))})})},t.miniCart=function(){e(document).ready(function(e){var a=function(a,r){e.ajax({data:{action:"barberry_alter_quantity",quantity:r,cart_item_key:a},type:"post",dataType:"json",url:barberry_scripts_vars.ajaxurl,beforeSend:function(){},success:function(a){e(document.body).trigger("updated_wc_div"),e(document.body).trigger("barberry_minicart_updated",[a.product_id]),e(document.body).trigger("added_to_cart");var o=a.product_id,i=e(".post-"+o+",.elementor-page-"+o);i.length||(i=e('[data-product_id="'+o+'"]').parent()),i.length&&i.find(".offcanvas_minicart .qty").val(r),e(document.body).on("wc_fragments_refreshed",function(){t.ShippingFreeNotification()})}})};e(document.body).on("change",".offcanvas_minicart .widget_shopping_cart_content .qty",function(){return t=e(this),r=t.attr("name").match(/cart\[(\w+)\]/)[1],e(".woocommerce-mini-cart__total, .woocommerce-mini-cart").addClass("loading"),void a(r,t.val());var t,r})})},t.productGallery=function(){if(e("#product-images").length){var t="product_layout_default";t=e(".product_layout").hasClass("product_layout_style_2")?"product_layout_style_2":e(".product_layout").hasClass("product_layout_style_3")?"product_layout_style_3":"product_layout_default";var a="thumbs-bottom";a=e(".product-images-cell").hasClass("thumbs-left")?"thumbs-left":e(".product-images-cell").hasClass("thumbs-right")?"thumbs-right":"thumbs-bottom";for(var r=new MobileDetect(window.navigator.userAgent).mobile(),o=document.querySelectorAll(".woocommerce-product-gallery"),i=0;i<o.length;i++){n(o[i])}e(".product-thumbnails-container, .product-vr-thumbnails-container").css("opacity","1")}function n(o){var i,n,s=o.querySelector(".woocommerce-product-gallery__wrapper"),c=o.querySelector(".product-thumbnails"),l=e("#product-images"),d=s.querySelectorAll(".product-gallery-cell"),u=!1,p=!0,m="left";function b(){var t,r=e(".product-thumbnails, .product-vr-thumbnails");if(t="",e(".woocommerce-product-gallery__image").each(function(){var a=e(this).data("thumb"),r=e(this).find("img").attr("alt"),o=e(this).find("img").attr("title");t+='<div class="woocommerce-product-thumb__image"><img alt="'+r+'" title="'+o+'" src="'+a+'" /></div>'}),r.empty(),r.append(t),c&&(n=new Flickity(c,{imagesLoaded:!0,asNavFor:".woocommerce-product-gallery__wrapper",contain:!0,freeScroll:!1,prevNextButtons:!1,pageDots:!1,percentPosition:!0,rightToLeft:"true"===barberry_scripts_vars.rtl}),"thumbs-bottom"!=a)){var o=e(".product-vr-thumbnails"),s=o.find(".woocommerce-product-thumb__image");o.on("click",".woocommerce-product-thumb__image",function(t){var a=e(t.currentTarget).index();i.selectCell(a)}),i.on("select",function(){o.position().top;var e=s.height(),t=o.height();o.find(".is-nav-selected").removeClass("is-nav-selected");var a=s.eq(i.selectedIndex).addClass("is-nav-selected").position().top+o.scrollTop()-(t+e)/2;o.stop(!0,!1).animate({scrollTop:a})})}}function f(){function a(){var e=i.selectedIndex+1;c.innerHTML="<span>"+e+"</span>/<span>"+i.slides.length+"</span>"}var n;if((i=new Flickity(s,{imagesLoaded:!0,cellAlign:m,contain:!0,lazyLoad:p,wrapAround:u,pageDots:!1,prevNextButtons:d.length>1,dragThreshold:15,adaptiveHeight:!0,rightToLeft:"true"===barberry_scripts_vars.rtl,arrowShape:{x0:10,x1:60,y1:50,x2:60,y2:40,x3:20},on:{ready:function(){h(),"1"==barberry_scripts_vars.product_images_lightbox&&l.addClass("photoswipe-enabled"),"product_layout_default"!=t&&"product_layout_style_2"!=t&&"product_layout_style_3"!=t||"1"!==barberry_scripts_vars.product_zoom||r||l.find(".woocommerce-product-gallery__image").each(function(){l.addClass("zoom-enabled"),e(this).zoom({url:e(this).attr("src"),touch:!1})})}}})).on("pointerDown",function(e,t){n=t.pageY}),i.on("staticClick",function(t,a,r,o){if(n===a.pageY)if(r){var s=e("#product-images");if(s.length){var c=s.find(".woocommerce-product-gallery__image img.single-product-img");o==i.selectedIndex&&"1"==barberry_scripts_vars.product_images_lightbox&&function(t){var a=[];c.each(function(){var t=e(this);a.push({src:t.attr("data-src"),w:t.attr("data-large_image_width"),h:t.attr("data-large_image_height"),title:t.attr("data-caption")})});c.index(e(this));var r={index:o,closeOnScroll:!1,bgOpacity:.6,tapToClose:!0,tapToToggleControls:!1},i=new PhotoSwipe(document.getElementById("pswp"),window.PhotoSwipeUI_Default,a,r);i.init(),i.listen("imageLoadComplete",function(t,a){a.src;var r=i.currItem,o=new Image;o.onload=function(){if("1"==barberry_scripts_vars.product_lightbox_dominant){var t=(new ColorThief).getColor(o);e(".pswp").addClass("dominant_enabled"),setTimeout(function(){e(".pswp__bg").css("backgroundColor","rgb("+t+")")},100),e(".pswp__item").fadeTo(1e3,1),e("body").addClass("photoswipe-blur")}else e(".pswp__bg").css("backgroundColor","rgba(0,0,0,.9)"),e(".pswp__item").fadeTo(1e3,1),e("body").addClass("photoswipe-blur")},o.src=r.src}),i.listen("afterChange",function(){var t=i.currItem,a=new Image;a.onload=function(){if("1"==barberry_scripts_vars.product_lightbox_dominant){var t=(new ColorThief).getColor(a);setTimeout(function(){e(".pswp__bg").css("backgroundColor","rgb("+t+")")},100)}else e(".pswp__bg").css("backgroundColor","rgba(0,0,0,.9)")},a.src=t.src}),i.listen("close",function(t,a){e(".pswp__item").fadeOut("slow",0),e("body").removeClass("photoswipe-blur"),h()})}(),"number"!=typeof o||i.selectCell(o)}}else console.log("nocell")}),"product_layout_style_3"==t){i.on("staticClick",function(e,t,a,r){"number"==typeof r&&i.selectCell(r)});var c=o.querySelector(".carousel-status");a(),i.on("select",a)}}function _(){var t=gsap.timeline(),a=e(".single-product #product-images"),r=e(".product-thumbnails-container, .product-vr-thumbnails-container");t.fromTo(a,{autoAlpha:0},{ease:"power4.InOut",autoAlpha:1,duration:1},0),t.fromTo(r,{autoAlpha:0},{ease:"power4.InOut",autoAlpha:1,duration:1},0)}function h(){function t(t){var a,r=e("#product-images .single-product-img");r[0].complete||4===r[0].readyState?(a=r.height(),t.height(a)):r.on("load",function(){a=e(this).height(),t.height(a)})}t(e("#product-images .flickity-viewport")),e(window).on("resize",function(){t(e("#product-images .flickity-viewport"))})}"product_layout_style_3"==t&&(u=!0,p=!1,m="center"),f(),b(),e(".variations_form").each(function(){var a=e(this);"1"===barberry_scripts_vars.variation_gallery&&barberry_variation_gallery_data?e(document).on("found_variation","form.variations_form",function(t,r){t.preventDefault(),h(),_(),i.destroy(),e(".product-thumbnails-wrapper").length&&n.destroy(),v(r.variation_id,a),f(),b(),i.selectCell(0)}).on("click",".reset_variations",function(t){t.preventDefault(),_(),i.destroy(),e(".product-thumbnails-wrapper").length&&n.destroy(),v("default",a),f(),b(),i.selectCell(0)}):e(document).on("found_variation","form.variations_form",function(a,o){a.preventDefault(),i.selectCell(0),h(),"product_layout_default"!=t&&"product_layout_style_2"!=t&&"product_layout_style_3"!=t||"1"!==barberry_scripts_vars.product_zoom||r||l.find(".woocommerce-product-gallery__image").each(function(){e(this).zoom({url:e(this).attr("src"),touch:!1})})}).on("click",".reset_variations",function(a){a.preventDefault(),i.selectCell(0),"product_layout_default"!=t&&"product_layout_style_2"!=t&&"product_layout_style_3"!=t||"1"!==barberry_scripts_vars.product_zoom||r||l.find(".woocommerce-product-gallery__image").each(function(){e(this).zoom({url:e(this).attr("src"),touch:!1})})})});var v=function(t,a){if(!function(e){return"undefined"!=typeof barberry_variation_gallery_data&&barberry_variation_gallery_data&&barberry_variation_gallery_data[e]}(t))return!1;var r=e(".product-thumbnails-container").attr("data-thumb"),o=barberry_variation_gallery_data[t],i=e(".woocommerce-product-gallery__wrapper");i.empty();for(var n=0;n<o.length;n++)i.append('<div data-thumb="'+o[n].data_thumb+'" class="woocommerce-product-gallery__image product-gallery-cell">\t\t\t\t\t\t\t'+o[n].image+"\t\t\t\t</div>"),r=n;return e(".product-thumbnails-container").attr("data-thumb",r+1),!0};e(".variations_form").on("change","select",function(t){if(t.preventDefault(),e(".barberry-thumb-clone img").length){var a=e(".product_layout #product-images .woocommerce-product-gallery__image:first-child").attr("data-thumb");e(".barberry-thumb-clone img").attr("src",a)}}),e(".variations_form").on("show_variation",function(t){t.preventDefault(),e(".variations_form").addClass("barberry-selected")}),e(".variations_form").on("reset_data",function(t){t.preventDefault(),e(".variations_form").removeClass("barberry-selected")})}},t.productVideo=function(){if(t.$body.hasClass("single-product")&&e(".single_product_video_trigger")[0]){e(".single_product_video_trigger").on("click",function(){e(".single_video_container").removeClass("stuck").addClass("active"),e(".single_video_overlay").addClass("active"),e("body").addClass("photoswipe-blur"),setTimeout(function(){e(".single_video_container iframe")[0].contentWindow.postMessage('{"event":"command","func":"","args":""}',"*")},500)}),e(".close-icon").on("click",function(){e(".single_video_container").removeClass("active"),e(".single_video_overlay").removeClass("active"),e("body").removeClass("photoswipe-blur"),setTimeout(function(){e(".single_video_container iframe")[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")},500)}),e(".single_video_overlay").on("click",function(){e(".close-icon").trigger("click")});e(window).scroll(function(){e(".single_video_container").hasClass("active")&&(window.scroll_position>0?(e(".single_video_container").addClass("stuck"),e(".single_video_overlay").removeClass("active"),e("body").removeClass("photoswipe-blur")):(e(".single_video_container").removeClass("stuck"),e(".single_video_overlay").addClass("active"),e("body").addClass("photoswipe-blur")))})}},t.productInview=function(){"0"!=barberry_scripts_vars.load_animation&&(window.sr=ScrollReveal(),sr.reveal(".single-product .single-bottom-inview",{mobile:!1,beforeReveal:function(e){e.visuelRevealTL=gsap.timeline(),e.visuelRevealTL.fromTo(e,{y:40,autoAlpha:0},{ease:"power4.InOut",y:0,autoAlpha:1,duration:2},0)}}))},t.productTabs=function(){e(".product_meta_ins:not(:has(span))").hide(),e(".woocommerce-review-link").off("click").on("click",function(){e(".tabs li a").each(function(){"#tab-reviews"==e(this).attr("href")&&e(this).trigger("click")});var t=e(".woocommerce-tabs").offset().top;return e("html, body").animate({scrollTop:t},500),!1}),e(".wc-tabs-wrapper, .woocommerce-tabs").off("click").on("click",".wc-tabs li a, ul.tabs li a",function(){if(e(this).parent("li").hasClass("active"))return!1;var t=e(this),a=t.closest(".wc-tabs-wrapper, .woocommerce-tabs");return a.find(".wc-tabs, ul.tabs").find("li").removeClass("active"),e(this).parent("li").addClass("active"),a.find(".wc-tab:visible").fadeOut(300,function(){a.find(t.attr("href")).fadeIn(300)}),!1}),e(".woocommerce-tabs #reviews .comment-text > p.meta").contents().filter(function(){return 3==this.nodeType}).remove(),e("#reviews #comments .comment_container").each(function(){e(this).find(".star-rating").detach().insertAfter(e(this).find(".meta"))}),e("ol.commentlist").length<1&&e("body.woocommerce").length>1&&e("#comments").hide()},t.productNavigation=function(){var t=e(".product-images-wrapper"),a=e(".product_related_wrapper"),r=e(".products-nav");if(!(r.length<=0||t.length<=0||a.length<=0)){var o=function(){var o=t.offset().top/3,i=a.offset().top-400,n=e(window).scrollTop();o<n?r.addClass("visible"):r.removeClass("visible"),i<n&&r.removeClass("visible")};o(),e(window).scroll(o),e(window).resize(o)}},t.singleProductSlider=function(){var a,r;if(r=!1,document.body.addEventListener("touchstart",function(e){e.target.closest(".flickity-slider")?(r=!0,a={x:e.touches[0].pageX,y:e.touches[0].pageY}):r=!1}),document.body.addEventListener("touchmove",function(e){if(r&&e.cancelable){var t={x:e.touches[0].pageX-a.x,y:e.touches[0].pageY-a.y};Math.abs(t.x)>7&&e.preventDefault()}},{passive:!1}),t.$body.hasClass("single-product"))for(var o=document.querySelectorAll(".product_related_wrapper"),i=0;i<o.length;i++){n(o[i])}function n(a){var r=a.querySelector(".related ul.products"),o=a.querySelector(".upsells ul.products"),i=e(".product_related_wrapper").attr("data-rel-scroll-speed");if(e(".single-product .related").length>0){var n=barberry_scripts_vars.related_products_columns;if(parseInt(e(".related").attr("data-related-no"))>n)if(e(".product_related_wrapper .single_product_summary_related").addClass("related_has_slider"),0!=barberry_scripts_vars.related_uppsells_scroll){let e=i,a=!1;const o=()=>{if(!a){if(s.slides){s.x=(s.x-e)%s.slideableWidth,s.selectedIndex=s.dragEndRestingSelect(),s.updateSelectedSlide(),s.settle(s.x);for(var i=r.querySelectorAll(".product"),n=0;n<i.length;++n)i[n].classList.add("active")}window.requestAnimationFrame(o),t.lazyLoad()}},n=()=>{a=!0},c=()=>{a&&(a=!1,window.requestAnimationFrame(o))};(s=new Flickity(r,{lazyLoad:!0,imagesLoaded:!0,rightToLeft:"true"===barberry_scripts_vars.rtl,arrowShape:{x0:10,x1:60,y1:50,x2:60,y2:40,x3:20},autoPlay:!1,prevNextButtons:!0,pageDots:!1,draggable:!0,wrapAround:!0,selectedAttraction:.015,friction:.25})).x=0,r.addEventListener("mouseenter",n,!1),r.addEventListener("focusin",n,!1),r.addEventListener("mouseleave",c,!1),r.addEventListener("focusout",c,!1),s.on("dragStart",()=>{a=!0}),o()}else{var s;(s=new Flickity(r,{lazyLoad:!0,imagesLoaded:!0,cellAlign:"left",contain:!0,groupCells:!1,pageDots:!0,rightToLeft:"true"===barberry_scripts_vars.rtl,arrowShape:{x0:10,x1:60,y1:50,x2:60,y2:40,x3:20}})).on("change",function(a){t.lazyLoad(),e("ul.products .product").addClass("active")})}}if(e(".single-product .upsells").length>0){var c=barberry_scripts_vars.upsells_products_columns;if(parseInt(e(".upsells").attr("data-upsells-no"))>c)if(e(".product_related_wrapper .single_product_summary_upsell").addClass("upselles_has_slider"),barberry_scripts_vars.related_uppsells_scroll){let e=i,a=!1;console.log(e);const r=()=>{if(!a){if(l.slides){l.x=(l.x-e)%l.slideableWidth,l.selectedIndex=l.dragEndRestingSelect(),l.updateSelectedSlide(),l.settle(l.x);for(var i=o.querySelectorAll(".product"),n=0;n<i.length;++n)i[n].classList.add("active")}window.requestAnimationFrame(r),t.lazyLoad()}},n=()=>{a=!0},s=()=>{a&&(a=!1,window.requestAnimationFrame(r))};(l=new Flickity(o,{lazyLoad:!0,imagesLoaded:!0,rightToLeft:"true"===barberry_scripts_vars.rtl,arrowShape:{x0:10,x1:60,y1:50,x2:60,y2:40,x3:20},autoPlay:!1,prevNextButtons:!0,pageDots:!1,draggable:!0,wrapAround:!0,selectedAttraction:.015,friction:.25})).x=0,o.addEventListener("mouseenter",n,!1),o.addEventListener("focusin",n,!1),o.addEventListener("mouseleave",s,!1),o.addEventListener("focusout",s,!1),l.on("dragStart",()=>{a=!0}),r()}else{var l;(l=new Flickity(o,{lazyLoad:!0,imagesLoaded:!0,cellAlign:"left",contain:!0,groupCells:!1,pageDots:!0,rightToLeft:"true"===barberry_scripts_vars.rtl,arrowShape:{x0:10,x1:60,y1:50,x2:60,y2:40,x3:20}})).on("change",function(a){t.lazyLoad(),e("ul.products .product").addClass("active")})}}}},t.dokan_products_tab=function(){var a=new MobileDetect(window.navigator.userAgent).mobile();t.$body.hasClass("single-product")&&e(".woocommerce-tabs .tabs li a").off("click").on("click",function(){if("#tab-more_seller_product"==e(this).attr("href")){for(var t=document.querySelectorAll(".woocommerce-Tabs-panel--more_seller_product"),r=0;r<t.length;r++){o(t[r])}function o(t){var r=t.querySelector("ul.products"),o=r.querySelectorAll(".product"),i=r.querySelectorAll(".product-title a div span"),n=r.querySelectorAll(".star-rating, .more-products"),s=r.querySelectorAll(".price"),c=gsap.timeline();c.fromTo(o,{y:10,autoAlpha:0},{ease:"power4.Out",y:0,autoAlpha:1,duration:2},.4),e(".woocommerce-Tabs-panel--more_seller_product .product-grid-layout-2").length>0&&(e(window).width()>1024?a||(c.fromTo(i,{ease:"power4.Out",x:30,y:100,skewX:60,autoAlpha:0},{ease:"power4.Out",x:0,y:0,skewX:0,autoAlpha:1,duration:1},0),null!==n&&c.fromTo(n,{y:10,autoAlpha:0},{ease:"power4.Out",y:0,autoAlpha:1,duration:2},.4),null!==s&&c.fromTo(s,{y:10,autoAlpha:0},{ease:"power4.Out",y:0,autoAlpha:1,duration:2},.2)):(c.fromTo(o,{autoAlpha:0},{autoAlpha:1,duration:2},.4),c.fromTo(i,{autoAlpha:0},{autoAlpha:1,duration:2},.4),c.fromTo(n,{autoAlpha:0},{autoAlpha:1,duration:2},.4),c.fromTo(s,{autoAlpha:0},{autoAlpha:1,duration:2},.4)))}}})},t.productAddToCartAjax=function(){t.$body.find("form.cart").on("click",".barberry-buy-now",function(t){if(t.preventDefault(),!e(this).hasClass("barberry-waiting")){e(this).addClass("barberry-waiting");var a=e(this).parents("form.cart");e(a).find(".single_add_to_cart_button.disabled").length?(e(a).find(".single_add_to_cart_button.disabled").trigger("click"),e(this).removeClass("barberry-waiting")):e(a).find('input[name="barberry_buy_now"]').length&&(e(a).find('input[name="barberry_buy_now"]').val("1"),e(a).find(".single_add_to_cart_button").trigger("click"))}return!1}),"0"!=barberry_scripts_vars.product_add_to_cart_ajax&&(t.$body.find("div.product").hasClass("product-type-external")||t.$body.find("form.cart").on("click",".single_add_to_cart_button",function(a){if(1!=e('input[name="barberry_buy_now"]').val()){if(a.preventDefault(),!e(this).hasClass("disabled")){var r=e(this),o=e(".barberry-buy-now");r.hasClass("active")||(r.addClass("active"),o.addClass("hide_btn"),setTimeout(function(){r.addClass("check")},3e3),setTimeout(function(){r.removeClass("active"),o.removeClass("hide_btn"),r.removeClass("check")},5e3)),setTimeout(function(){e(".header-cart").addClass("animated")},1e3),setTimeout(function(){e(".header-cart").removeClass("animated")},2e3);var i=e(this).closest("form.cart"),n=e(this);if(n.addClass("loading"),n.hasClass("loading")){var s=i.serializeArray(),c=window.location.href,l=n.attr("value");if(void 0!==l&&!1!==l){var d={name:"add-to-cart",value:l};s.push(d)}e.ajax({url:window.location.href,method:"post",data:s,error:function(){window.location=c},success:function(a){a||(window.location=c),"undefined"==typeof wc_add_to_cart_params||"yes"!==wc_add_to_cart_params.cart_redirect_after_add?(e(document.body).trigger("updated_wc_div"),"no_action"!=barberry_scripts_vars.add_to_cart_action&&e(document.body).on("wc_fragments_refreshed",function(){n.removeClass("loading"),t.ShippingFreeNotification(),setTimeout(function(){window.offcanvas_right()},200)})):window.location=wc_add_to_cart_params.cart_url}})}}}else console.log("buy it now")}))},t.stickyAddtocart=function(){if(t.$body.hasClass("single-product")&&(e(window).scroll(function(){var t=e(this).scrollTop();if(e('input[name="barberry_fixed_single_add_to_cart"]').length&&e(".product-info-cell .single_add_to_cart_button").length){var a=e(".product-info-cell .single_add_to_cart_button");if(e(a).length)t>=e(a).offset().top?e("body").hasClass("barberry-has-cart-fixed")||e("body").addClass("barberry-has-cart-fixed"):e("body").removeClass("barberry-has-cart-fixed")}}),t.$body.hasClass("single-product")&&e('input[name="barberry_fixed_single_add_to_cart"]').length&&e('body[data-footer-reveal="1"] .site-footer-inner').css({"margin-bottom":100}),e('input[name="barberry_fixed_single_add_to_cart"]').length)){if(e(".barberry-add-to-cart-fixed").length<=0){e("body").append('<div class="barberry-add-to-cart-fixed"><div class="barberry-wrap-content-inner"><div class="barberry-wrap-content grid-container"><div class="barberry-wrap-content-sections grid-x align-middle"></div></div></div></div>'),"0"==barberry_scripts_vars.sticky_addtocart_mob&&(e(".barberry-add-to-cart-fixed").addClass("not-show-mobile"),e("body").addClass("stickycart-not-show-mobile"));var a=e(".barberry-add-to-cart-fixed .barberry-wrap-content .barberry-wrap-content-sections");e(a).append('<div class="barberry-fixed-product-info cell shrink"></div>');var r=e(".product-images-cell .product-image-wrapper .product-gallery-cell:eq(0)").attr("data-thumb");if(""!==r&&e(".barberry-fixed-product-info").append('<div class="barberry-thumb-clone"><img src="'+r+'" /></div>'),e(".product-info-cell .product_summary_top .page-title-wrapper .product_title").length){var o=e(".product-info-cell .product_summary_top .page-title-wrapper .product_title").html();e(".barberry-fixed-product-info").append('<div class="barberry-title-clone"><h3>'+o+"</h3></div>")}if(e(".product-info-cell .product_summary_middle .price").length){var i=e(".product-info-cell .product_summary_middle .price").html();e(".barberry-title-clone").length?e(".barberry-title-clone").append('<span class="price">'+i+"</span>"):e(".barberry-fixed-product-info").append('<div class="barberry-title-clone"><span class="price">'+i+"</span></div>")}if(e(".product-info-cell .variations_form").length){e(a).append('<div id="barberry-fixed-product-variations-wrap" class="barberry-fixed-product-variations-wrap cell auto"><div id="barberry-fixed-product-variations" class="barberry-fixed-product-variations"></div></div>');var n=1,s=1;e(".product-info-cell .variations_form .variations tr").each(function(){var t=e(this),a="barberry-attr-wrap-"+n.toString(),r=e(t).find("select").attr("data-attribute_name")||e(t).find("select").attr("name");if(e(t).find(".tawcvs-swatches").length)e(".barberry-fixed-product-variations").append('<div class="barberry-attr-wrap-clone '+a+' tawcvs-swatches"></div>'),e(t).find(".swatch").each(function(){var t=e(this),o="swatch-"+s.toString(),i=e(t).attr("style"),n="swatch-clone-"+s.toString(),c=n;e(t).hasClass("swatch-color")&&(n+=" barberry-attr-color-clone"),e(t).hasClass("swatch-label")&&(n+=" barberry-attr-label-clone"),e(t).hasClass("swatch-image")&&(n+=" barberry-attr-image-clone");var l=e(t).hasClass("selected")?" selected":"",d=e(t).html();e(t).addClass(o),e(t).attr("data-target","."+c),e(".barberry-attr-wrap-clone."+a).append("<span style="+i+' class="barberry-attr-clone'+l+" "+n+" barberry-"+r+'" data-target=".'+o+'">'+d+"</span>"),s++});else{e(".barberry-fixed-product-variations").append('<div class="barberry-attr-select_wrap-clone '+a+'"></div>');var o=e(t).find("select"),i=e(t).find(".label").length?e(t).find(".label").html():"",c="barberry-attr-select-"+s.toString(),l="barberry-attr-select-clone-"+s.toString(),d=e(o).html();e(o).addClass(c).addClass("barberry-attr-select"),e(o).attr("data-target","."+l),e(".barberry-attr-select_wrap-clone."+a).append(i+'<select name="'+r+'" class="barberry-attr-select-clone '+l+" barberry-"+r+'" data-target=".'+c+'">'+d+"</select>"),s++}n++})}else e(a).addClass("barberry-fixed-single-simple");setTimeout(function(){var t=c(e);e(".product-info-cell .variations_form").length?e(a).append('<div class="barberry-fixed-product-btn cell shrink"></div>'):e(a).append('<div class="barberry-fixed-product-btn cell auto"></div>'),e(".barberry-fixed-product-btn").html(t);var r=e('.product-info-cell form.cart input[name="quantity"]').val();e('.barberry-single-btn-clone input[name="quantity"]').val(r)},250),e("body").on("click",".tawcvs-swatches .swatch",function(){var t=e(this).attr("data-target");if(e(t).length){var a=e(t).parents(".barberry-attr-wrap-clone");e(a).find(".barberry-attr-clone").removeClass("selected"),e(this).hasClass("selected")&&e(t).addClass("selected")}e(".barberry-fixed-product-btn").length&&setTimeout(function(){var t=c(e);e(".barberry-fixed-product-btn").html(t);var a=e('.product-info-cell form.cart input[name="quantity"]').val();e('.barberry-single-btn-clone input[name="quantity"]').val(a)},250),setTimeout(function(){e(".tawcvs-swatches .swatch").length&&e(".tawcvs-swatches .swatch").each(function(){var t=e(this),a=e(t).attr("data-target");e(a).length&&(!!e(t).hasClass("barberry-disable")?e(a).hasClass("barberry-disable")||e(a).addClass("barberry-disable"):e(a).removeClass("barberry-disable"))})},250)}),e("body").on("click",".barberry-attr-clone",function(){var t=e(this).attr("data-target");e(t).length&&e(t).trigger("click")}),e("body").on("change",".barberry-attr-select",function(){var t=e(this),a=e(t).attr("data-target"),r=e(t).val();e(a).length&&(setTimeout(function(){var o=e(t).html();e(a).html(o),e(a).val(r)},100),setTimeout(function(){var t=c(e);e(".barberry-fixed-product-btn").html(t);var a=e('.product_layout form.cart input[name="quantity"]').val();e('.barberry-single-btn-clone input[name="quantity"]').val(a),e(".barberry-attr-ux").length&&e(".barberry-attr-ux").each(function(){var t=e(this),a=e(t).attr("data-target");e(a).length&&(!!e(t).hasClass("barberry-disable")?e(a).hasClass("barberry-disable")||e(a).addClass("barberry-disable"):e(a).removeClass("barberry-disable"))})},250))}),e("body").on("change",".barberry-attr-select-clone",function(){var t=e(this).attr("data-target"),a=e(this).val();e(t).length&&e(t).val(a).change()}),e(".barberry-attr-select-clone").select2({width:"resolve",minimumResultsForSearch:-1,allowClear:!1}),e("body").on("click",".reset_variations",function(){e(a).find(".selected").removeClass("selected"),setTimeout(function(){var t=c(e);e(".barberry-fixed-product-btn").html(t);var a=e('.product-info-cell form.cart input[name="quantity"]').val();e('.barberry-single-btn-clone input[name="quantity"]').val(a),e(".barberry-attr-ux").length&&e(".barberry-attr-ux").each(function(){var t=e(this),a=e(t).attr("data-target");e(a).length&&(!!e(t).hasClass("barberry-disable")?e(a).hasClass("barberry-disable")||e(a).addClass("barberry-disable"):e(a).removeClass("barberry-disable"))})},250)}),e("body").on("click",".product-info-cell form.cart .quantity .plus-btn, .product-info-cell form.cart .quantity .minus-btn",function(){if(e('.barberry-single-btn-clone input[name="quantity"]').length){var t=e('.product-info-cell form.cart input[name="quantity"]').val();e('.barberry-single-btn-clone input[name="quantity"]').val(t)}}),e("body").on("click",".barberry-single-btn-clone .plus-btn",function(){e(".product-info-cell form.cart .quantity .plus-btn").length&&e(".product-info-cell form.cart .quantity .plus-btn").trigger("click")}),e("body").on("click",".barberry-single-btn-clone .minus-btn",function(){e(".product-info-cell form.cart .quantity .minus-btn").length&&e(".product-info-cell form.cart .quantity .minus-btn").trigger("click")}),e("body").on("keyup",'.product-info-cell form.cart input[name="quantity"]',function(){var t=e(this).val();e('.barberry-single-btn-clone input[name="quantity"]').val(t)}),e("body").on("keyup",'.barberry-single-btn-clone input[name="quantity"]',function(){var t=e(this).val();e('.product-info-cell form.cart input[name="quantity"]').val(t)}),e("body").on("click",".barberry-single-btn-clone .single_add_to_cart_button",function(t){e(".product-info-cell form.cart .single_add_to_cart_button").length&&e(".product-info-cell form.cart .single_add_to_cart_button").trigger("click");var a=e(this);a.hasClass("active")||(a.addClass("active"),setTimeout(function(){a.addClass("check")},3e3),setTimeout(function(){a.removeClass("active"),a.removeClass("check")},5e3))}),e("body").on("click",".woocommerce-variation-mob-btn-clone",function(t){e("html, body").animate({scrollTop:e(".variations_form").offset().top},2e3)})}}function c(e){var t="";if(e(".product_layout").length){var a=e(".product_layout");if(e(a).find(".single_variation_wrap").length){var r=e(a).find(".single_variation_wrap .woocommerce-variation .woocommerce-variation-price").length&&"none"!==e(a).find(".single_variation_wrap .woocommerce-variation").css("display")?e(a).find(".single_variation_wrap").find(".woocommerce-variation-price").html():"",o=e(a).find(".single_variation_wrap").find(".woocommerce-variation-add-to-cart").clone();e(o).find("*").removeAttr("id"),e(o).find(".single_add_to_cart_button").length&&e(o).find(".single_add_to_cart_button").removeAttr("style"),e(o).find(".barberry-buy-now").length&&e(o).find(".barberry-buy-now").remove();var i=e(o).html(),n=e(o).find(".single_add_to_cart_button").clone().html();t='<div class="barberry-single-btn-clone single_variation_wrap-clone'+(e(a).find(".single_variation_wrap").find(".woocommerce-variation-add-to-cart-disabled").length?" barberry-clone-disable":"")+'">'+r+'<div class="woocommerce-variation-add-to-cart-clone">'+i+'<div class="woocommerce-variation-mob-btn-clone button">'+n+"</div></div></div>"}else if(e(a).find(".cart").length){o=e(a).find(".cart").clone();e(o).find("*").removeAttr("id"),e(o).find(".single_add_to_cart_button").length&&e(o).find(".single_add_to_cart_button").removeAttr("style"),e(o).find(".barberry-buy-now").length&&e(o).find(".barberry-buy-now").remove(),t='<div class="barberry-single-btn-clone">'+(i=e(o).html())+"</div>"}}return t}},t.productWishlist=function(){e(document).on("click",".product_summary_bottom_inner .add_to_wishlist",function(t){e(this).parents(".yith-wcwl-add-button").addClass("loading")})},t.productCompare=function(){!function(e,t){var a=void 0===t||t,r=function(e){if(e('input[name="barberry_woocompare_cookie_name"]').length){var t=e('input[name="barberry_woocompare_cookie_name"]').val(),a=e.cookie(t);return a&&1===(a=a.replace("[","").replace("]","").split(",").map(String)).length&&!a[0]?[]:void 0!==a&&a.length?a:[]}return[]}(e);if(a&&e(".compare_items_number").length){var o=r.length;e(".compare_items_number").html(n(e,o)),e(".compare_items_number").removeClass("hide"),o<=0?e(".compare_items_number").hasClass("barberry-product-empty")||e(".compare_items_number").addClass("barberry-product-empty"):e(".compare_items_number").removeClass("barberry-product-empty")}r.length&&e(".compare-link").length&&e(".compare-link").each(function(){var t=e(this),a=e(t).attr("data-prod");-1!==r.indexOf(a)?(e(t).hasClass("added")||e(t).addClass("added"),e(t).hasClass("barberry-added")||e(t).addClass("barberry-added")):(e(t).removeClass("added"),e(t).removeClass("barberry-added"))})}(e),e(document).on("click",".compare-btn .compare-link",function(t){var a=e(this);if(e(a).hasClass("barberry-compare")){var o=e(a).attr("data-prod");o&&r(o,e)}else{e(a).parents(".compare-btn").find(".compare-button .compare").trigger("click")}return!1}),e("body").on("click",".footer-section-inner .barberry_product_compare_button",function(){var t=e(this);if(e(t).hasClass("barberry-compare")){var a=e(t).attr("data-prod");a&&r(a,e)}else{e(t).parents(".footer-section-inner").find(".compare-button .compare").trigger("click")}return!1}),e("body").on("click",".barberry-remove-compare",function(){var t=e(this).attr("data-prod");return t&&function(e,t){var a=null;if("undefined"!=typeof wc_add_to_cart_params&&void 0!==wc_add_to_cart_params.wc_ajax_url){a=wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","barberry_remove_compare_product");var r=!!t(".barberry-wrap-table-compare").length;t.ajax({url:a,type:"post",dataType:"json",cache:!1,data:{pid:e,compare_table:r},beforeSend:function(){t(".barberry-compare-list-bottom").find(".barberry-loader").length<=0&&t(".barberry-compare-list-bottom").append('<div class="barberry-loader"></div>'),t("table.barberry-table-compare tr.remove-item td.barberry-compare-view-product_"+e).length&&t("table.barberry-table-compare").css("opacity","0.3").prepend('<div class="barberry-loader"></div>')},success:function(a){void 0!==a.result_compare&&"success"===a.result_compare&&("no-change"!==a.mini_compare&&t("#barberry-compare-sidebar-content").length?t("#barberry-compare-sidebar-content").replaceWith(a.mini_compare):"no-change"!==a.mini_compare&&t(".barberry-compare-list").length&&t(".barberry-compare-list").replaceWith(a.mini_compare),"no-change"!==a.mini_compare&&t(".barberry-compare-list").length?(t('.barberry-compare[data-prod="'+e+'"]').removeClass("added"),t('.barberry-compare[data-prod="'+e+'"]').removeClass("barberry-added"),t("compare_items_number").length&&(t("compare_items_number").html(n(t,a.count_compare)),0===a.count_compare?t("compare_items_number").hasClass("barberry-product-empty")||t("compare_items_number").addClass("barberry-product-empty"):t("compare_items_number").hasClass("barberry-product-empty")&&t("compare_items_number").removeClass("barberry-product-empty")),t(".barberry-compare-success span").html(a.mess_compare),t(".barberry-compare-success").fadeIn(200),r&&t(".barberry-wrap-table-compare").replaceWith(a.result_table)):(t(".barberry-compare-exists").html(a.mess_compare),t(".barberry-compare-exists").fadeIn(200)),setTimeout(function(){t(".barberry-compare-success").fadeOut(200),t(".barberry-compare-exists").fadeOut(200),0===a.count_compare&&t(".barberry-close-mini-compare").trigger("click")},2e3)),t("table.barberry-table-compare").find(".barberry-loader").remove(),t(".barberry-compare-list-bottom").find(".barberry-loader").remove(),s()},error:function(){}})}}(t,e),!1}),e("body").on("click",".barberry-compare-clear-all",function(){return function(e){var t=null;if("undefined"!=typeof wc_add_to_cart_params&&void 0!==wc_add_to_cart_params.wc_ajax_url){t=wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","barberry_remove_all_compare");var a=!!e(".barberry-wrap-table-compare").length;e.ajax({url:t,type:"post",dataType:"json",cache:!1,data:{compare_table:a},beforeSend:function(){e(".barberry-compare-list-bottom").find(".barberry-loader").length<=0&&e(".barberry-compare-list-bottom").append('<div class="barberry-loader"></div>')},success:function(t){"success"===t.result_compare&&("no-change"!==t.mini_compare&&e(".barberry-compare-list").length?(e(".barberry-compare-list").replaceWith(t.mini_compare),e(".barberry-compare").removeClass("added"),e(".barberry-compare").removeClass("barberry-added"),e("compare_items_number").length&&(e("compare_items_number").html("0"),e("compare_items_number").hasClass("barberry-product-empty")||e("compare_items_number").addClass("barberry-product-empty")),e(".barberry-compare-success span").html(t.mess_compare),e(".barberry-compare-success").fadeIn(200),a&&e(".barberry-wrap-table-compare").replaceWith(t.result_table)):(e(".barberry-compare-exists span").html(t.mess_compare),e(".barberry-compare-exists").fadeIn(200)),setTimeout(function(){e(".barberry-compare-success").fadeOut(200),e(".barberry-compare-exists").fadeOut(200),e(".barberry-close-mini-compare").trigger("click")},1e3)),e(".barberry-compare-list-bottom").find(".barberry-loader").remove()},error:function(){}})}}(e),!1}),e("body").on("click",".barberry-show-compare",function(){return a(e),e(this).hasClass("barberry-showed")?i(e):o(e),!1}),e("body").on("click",".barberry-show-compare-mob",function(){return a(e),window.offcanvas_close(),setTimeout(function(){o(e)},300),!1});var t=!1;function a(e){if(e("#barberry-compare-sidebar-content").length&&!t&&(t=!0,"undefined"!=typeof wc_add_to_cart_params&&void 0!==wc_add_to_cart_params.wc_ajax_url)){var a=wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","barberry_load_compare"),r=!!e(".barberry-wrap-table-compare").length;e.ajax({url:a,type:"post",dataType:"json",cache:!1,data:{compare_table:r},beforeSend:function(){},success:function(t){void 0!==t.success&&"1"===t.success&&e("#barberry-compare-sidebar-content").replaceWith(t.content),e(".barberry-compare-list-bottom").find(".barberry-loader").remove()},error:function(){}})}}function r(e,t){var r=null;if("undefined"!=typeof wc_add_to_cart_params&&void 0!==wc_add_to_cart_params.wc_ajax_url){r=wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","barberry_add_compare_product");var i=!!t(".barberry-wrap-table-compare").length;t.ajax({url:r,type:"post",dataType:"json",cache:!1,data:{pid:e,compare_table:i},beforeSend:function(){o(t),t(".barberry-compare-list-bottom").find(".barberry-loader").length<=0&&t(".barberry-compare-list-bottom").append('<div class="barberry-loader"></div>')},success:function(r){void 0!==r.result_compare&&"success"===r.result_compare&&(t("#barberry-compare-sidebar-content").length?"no-change"===r.mini_compare?a(t):t("#barberry-compare-sidebar-content").replaceWith(r.mini_compare):"no-change"!==r.mini_compare&&t(".barberry-compare-list").length&&t(".barberry-compare-list").replaceWith(r.mini_compare),"no-change"!==r.mini_compare?(t(".compare_items_number").length&&(t(".compare_items_number").html(n(t,r.count_compare)),0===r.count_compare?t(".compare-number").hasClass("barberry-product-empty")||t(".compare-number").addClass("barberry-product-empty"):t(".compare_items_number").hasClass("barberry-product-empty")&&t(".compare_items_number").removeClass("barberry-product-empty")),t(".barberry-compare-success span").html(r.mess_compare),t(".barberry-compare-success").fadeIn(200),i&&t(".barberry-wrap-table-compare").replaceWith(r.result_table)):(t(".barberry-compare-exists span").html(r.mess_compare),t(".barberry-compare-exists").fadeIn(200)),t('.barberry-compare[data-prod="'+e+'"]').hasClass("added")||t('.barberry-compare[data-prod="'+e+'"]').addClass("added"),t('.barberry-compare[data-prod="'+e+'"]').hasClass("barberry-added")||t('.barberry-compare[data-prod="'+e+'"]').addClass("barberry-added"),setTimeout(function(){t(".barberry-compare-success").fadeOut(200),t(".barberry-compare-exists").fadeOut(200)},2e3)),t(".barberry-compare-list-bottom").find(".barberry-loader").remove()},error:function(){}})}}function o(e){if(e(".barberry-compare-list-bottom").length){e("body").removeClass("no-offcanvas-animation").addClass("offcanvas_bottom lock-scroll"),e(".barberry-show-compare").length&&!e(".barberry-show-compare").hasClass("barberry-showed")&&e(".barberry-show-compare").addClass("barberry-showed"),e(".barberry-compare-list-bottom").hasClass("barberry-active")||e(".barberry-compare-list-bottom").addClass("barberry-active");var t=gsap.timeline(),a=e(".barberry-compare-list");t.fromTo(a,1,{opacity:0},{ease:Power4.easeIn,opacity:1},0)}}function i(e){e(".barberry-compare-list-bottom").length&&(e("body").removeClass("offcanvas_bottom lock-scroll"),e(".barberry-show-compare").length&&e(".barberry-show-compare").hasClass("barberry-showed")&&e(".barberry-show-compare").removeClass("barberry-showed"),e(".barberry-compare-list-bottom").removeClass("barberry-active"))}function n(e,t){var a=parseInt(t);return e('input[name="barberry_less_total_items"]').length&&"1"===e('input[name="barberry_less_total_items"]').val()&&a>9?"9+":a.toString()}function s(){e(".barberry-wrap-table-compare ul li:first-child").addClass("active"),e(".barberry-wrap-table-compare tbody td:not(:empty)").siblings("td:nth-child(2)").addClass("default"),e(".barberry-wrap-table-compare ul").on("click","li",function(){var t=e(this).index()+2;e("tr").find("td:not(:eq(0))").hide(),e("td:nth-child("+t+")").css("display","table-cell"),e("tr").find("th:not(:eq(0))").hide(),e("li").removeClass("active"),e(this).addClass("active")})}e("body").on("click",".transparent-window, .barberry-close-mini-compare",function(){i(e)}),s()},e(function(){t.init()})});